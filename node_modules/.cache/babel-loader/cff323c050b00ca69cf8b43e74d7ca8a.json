{"ast":null,"code":"import _slicedToArray from\"/home/anthony/Desktop/if-you-were-here/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import styles from\"./FilterOption.module.css\";import{useDispatch,useSelector}from\"react-redux\";import{addFilter,removeFilter}from\"../../../store/actions\";var FilterOption=function FilterOption(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),selected=_useState2[0],setSelected=_useState2[1];var _useSelector=useSelector(function(state){return state.messages.filters;}),who=_useSelector.who,identity=_useSelector.identity;var sort=useSelector(function(state){return state.messages.sort;});var dispatch=useDispatch();var filter=props.filter,filterHandler=props.filterHandler,filterSelected=props.filterSelected,name=props.name;var selectHandler=function selectHandler(filter,name){setSelected(function(prevState){return!prevState;});filterHandler(filter,name);};useEffect(function(){if(filter!==filterSelected){setSelected(false);}},[filterSelected]);useEffect(function(){var filtered=who!==null&&identity!==null;// because 1 of the 2 values = the filter that's being passed... it removes the value\n// when it's 2 different values, and you change the value, NEITHER value equals the filter being passed thus it adds\n// for instance. if who = husband and identity = other, and you click wife for identity... then the filter doesn't\n// equal the who value or the identity value, thus it adds a new value to the identity value\nif(!selected&&name===\"who\"&&who===filter){dispatch(removeFilter(filter,name,filtered,sort));}else if(!selected&&name===\"identity\"&&identity===filter){dispatch(removeFilter(filter,name,filtered,sort));}else if(selected){dispatch(addFilter(filter,name,true,sort));}},[selected]);return React.createElement(\"div\",{className:selected?styles.FilterOptionSelected:styles.FilterOption,onClick:function onClick(){return selectHandler(filter,name);}},props.filter);};export default FilterOption;","map":{"version":3,"sources":["/home/anthony/Desktop/if-you-were-here/client/src/components/FilterOptions/FilterOption/FilterOption.js"],"names":["React","useState","useEffect","styles","useDispatch","useSelector","addFilter","removeFilter","FilterOption","props","selected","setSelected","state","messages","filters","who","identity","sort","dispatch","filter","filterHandler","filterSelected","name","selectHandler","prevState","filtered","FilterOptionSelected"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,CAAoBC,YAApB,KAAwC,wBAAxC,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,eACER,QAAQ,CAAC,KAAD,CADV,wCACvBS,QADuB,eACbC,WADa,gCAEJN,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,QAAN,CAAeC,OAA1B,EAAD,CAFP,CAEtBC,GAFsB,cAEtBA,GAFsB,CAEjBC,QAFiB,cAEjBA,QAFiB,CAG9B,GAAMC,CAAAA,IAAI,CAAGZ,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,QAAN,CAAeI,IAA1B,EAAD,CAAxB,CACA,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CAJ8B,GAKtBe,CAAAA,MALsB,CAK0BV,KAL1B,CAKtBU,MALsB,CAKdC,aALc,CAK0BX,KAL1B,CAKdW,aALc,CAKCC,cALD,CAK0BZ,KAL1B,CAKCY,cALD,CAKiBC,IALjB,CAK0Bb,KAL1B,CAKiBa,IALjB,CAM9B,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACJ,MAAD,CAASG,IAAT,CAAkB,CACtCX,WAAW,CAAC,SAACa,SAAD,QAAe,CAACA,SAAhB,EAAD,CAAX,CACAJ,aAAa,CAACD,MAAD,CAASG,IAAT,CAAb,CACD,CAHD,CAKApB,SAAS,CAAC,UAAM,CACd,GAAIiB,MAAM,GAAKE,cAAf,CAA+B,CAC7BV,WAAW,CAAC,KAAD,CAAX,CACD,CACF,CAJQ,CAIN,CAACU,cAAD,CAJM,CAAT,CAMAnB,SAAS,CAAC,UAAM,CACd,GAAMuB,CAAAA,QAAQ,CAAGV,GAAG,GAAK,IAAR,EAAgBC,QAAQ,GAAK,IAA9C,CACA;AACA;AACA;AACA;AACA,GAAI,CAACN,QAAD,EAAaY,IAAI,GAAK,KAAtB,EAA+BP,GAAG,GAAKI,MAA3C,CAAmD,CACjDD,QAAQ,CAACX,YAAY,CAACY,MAAD,CAASG,IAAT,CAAeG,QAAf,CAAyBR,IAAzB,CAAb,CAAR,CACD,CAFD,IAEO,IAAI,CAACP,QAAD,EAAaY,IAAI,GAAK,UAAtB,EAAoCN,QAAQ,GAAKG,MAArD,CAA6D,CAClED,QAAQ,CAACX,YAAY,CAACY,MAAD,CAASG,IAAT,CAAeG,QAAf,CAAyBR,IAAzB,CAAb,CAAR,CACD,CAFM,IAEA,IAAIP,QAAJ,CAAc,CACnBQ,QAAQ,CAACZ,SAAS,CAACa,MAAD,CAASG,IAAT,CAAe,IAAf,CAAqBL,IAArB,CAAV,CAAR,CACD,CACF,CAbQ,CAaN,CAACP,QAAD,CAbM,CAAT,CAeA,MACE,4BACE,SAAS,CAAEA,QAAQ,CAAGP,MAAM,CAACuB,oBAAV,CAAiCvB,MAAM,CAACK,YAD7D,CAEE,OAAO,CAAE,yBAAMe,CAAAA,aAAa,CAACJ,MAAD,CAASG,IAAT,CAAnB,EAFX,EAIGb,KAAK,CAACU,MAJT,CADF,CAQD,CAxCD,CA0CA,cAAeX,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styles from \"./FilterOption.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addFilter, removeFilter } from \"../../../store/actions\";\n\nconst FilterOption = (props) => {\n  const [selected, setSelected] = useState(false);\n  const { who, identity } = useSelector((state) => state.messages.filters);\n  const sort = useSelector((state) => state.messages.sort);\n  const dispatch = useDispatch();\n  const { filter, filterHandler, filterSelected, name } = props;\n  const selectHandler = (filter, name) => {\n    setSelected((prevState) => !prevState);\n    filterHandler(filter, name);\n  };\n\n  useEffect(() => {\n    if (filter !== filterSelected) {\n      setSelected(false);\n    }\n  }, [filterSelected]);\n\n  useEffect(() => {\n    const filtered = who !== null && identity !== null;\n    // because 1 of the 2 values = the filter that's being passed... it removes the value\n    // when it's 2 different values, and you change the value, NEITHER value equals the filter being passed thus it adds\n    // for instance. if who = husband and identity = other, and you click wife for identity... then the filter doesn't\n    // equal the who value or the identity value, thus it adds a new value to the identity value\n    if (!selected && name === \"who\" && who === filter) {\n      dispatch(removeFilter(filter, name, filtered, sort));\n    } else if (!selected && name === \"identity\" && identity === filter) {\n      dispatch(removeFilter(filter, name, filtered, sort));\n    } else if (selected) {\n      dispatch(addFilter(filter, name, true, sort));\n    }\n  }, [selected]);\n\n  return (\n    <div\n      className={selected ? styles.FilterOptionSelected : styles.FilterOption}\n      onClick={() => selectHandler(filter, name)}\n    >\n      {props.filter}\n    </div>\n  );\n};\n\nexport default FilterOption;\n"]},"metadata":{},"sourceType":"module"}