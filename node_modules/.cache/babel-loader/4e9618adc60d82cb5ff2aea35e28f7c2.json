{"ast":null,"code":"import _slicedToArray from\"/home/anthony/Desktop/if-you-were-here/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useSelector}from\"react-redux\";import styles from\"./FilterOptions.module.css\";import FilterOption from\"./FilterOption/FilterOption\";import SortOption from\"./SortOption/SortOption\";import Close from\"../UI/Buttons/Close/Close\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faClock,faPen,faUserCheck}from\"@fortawesome/free-solid-svg-icons\";import Container from\"react-bootstrap/Container\";import Col from\"react-bootstrap/Col\";import Row from\"react-bootstrap/Row\";import Spinner from\"../UI/Spinners/FormSpinner/FormSpinner\";var FilterOptions=function FilterOptions(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),whoSelected=_useState2[0],setWhoSelected=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),identitySelected=_useState4[0],setIdentitySelected=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),sortSelected=_useState6[0],setSortSelected=_useState6[1];var persons=useSelector(function(state){return state.persons.persons;});var personsError=useSelector(function(state){return state.persons.error;});var filterHandler=function filterHandler(filter,name){if(whoSelected===filter&&name===\"who\"){setWhoSelected(null);}else if(identitySelected===filter&&name===\"identity\"){setIdentitySelected(null);}else if(name===\"who\"){setWhoSelected(filter);}else if(name===\"identity\"){setIdentitySelected(filter);}};var sortHandler=function sortHandler(filter){if(sortSelected===filter){setSortSelected(false);}else{setSortSelected(filter);}};var parentClasses=styles.ContentViewer;var childClasses=styles.FilterOptions;if(props.expand){parentClasses=[styles.ContentViewer,styles.ContentViewerOpen].join(\" \");childClasses=[styles.FilterOptions,styles.OpenFilterOptions].join(\" \");}var whoFilters=persons.sort(function(a,b){return a.position-b.position;}).map(function(person,index){return React.createElement(FilterOption,{filterHandler:filterHandler,key:index,filterSelected:whoSelected,filter:person.name,name:\"who\"});});var identityFilters=persons.sort(function(a,b){return a.position-b.position;}).map(function(person,index){return React.createElement(FilterOption,{filterHandler:filterHandler,key:index,filterSelected:identitySelected,filter:person.name,name:\"identity\"});});var sortOptions=[\"Newest\",\"Oldest\"].map(function(type,index){return React.createElement(SortOption,{sortHandler:sortHandler,key:index,sortSelected:sortSelected,filter:type});});var optionsBody=React.createElement(Spinner,null);if(persons){optionsBody=React.createElement(React.Fragment,null,React.createElement(\"span\",{className:styles.CloseButton},React.createElement(Close,{openHandler:props.openHandler},\"X\")),React.createElement(Row,null,React.createElement(Col,{lg:4},React.createElement(\"span\",{className:styles.Header},React.createElement(FontAwesomeIcon,{icon:faPen,size:\"1x\",style:{color:\"orange\"}}),\" \",\"Addressed to\"),React.createElement(\"br\",null),whoFilters),React.createElement(Col,{lg:4,className:styles.FilterOptionsMiddle},React.createElement(\"span\",{className:styles.Header},React.createElement(FontAwesomeIcon,{icon:faUserCheck,size:\"1x\",style:{color:\"orange\"}}),\" \",\"Sent by\"),React.createElement(\"br\",null),identityFilters),React.createElement(Col,{lg:4},React.createElement(\"span\",{className:styles.Header},React.createElement(FontAwesomeIcon,{icon:faClock,size:\"1x\",style:{color:\"orange\"}}),\" \",\"By Date\"),React.createElement(\"br\",null),sortOptions)),React.createElement(\"center\",null,React.createElement(\"span\",{className:styles.SubmitButton},React.createElement(Close,{openHandler:props.openHandler},\"OK\"))));}if(personsError){optionsBody=React.createElement(\"center\",null,React.createElement(\"span\",{style:{color:\"red\",fontWeight:\"bold\"}},\"Sorry, an error has occurred and IT has been notified:\"),React.createElement(\"span\",{style:{color:\"white\"}},\" \",personsError));}return React.createElement(\"div\",{className:styles.ContentContainer},React.createElement(\"div\",{className:parentClasses},React.createElement(\"div\",{className:childClasses},React.createElement(Container,null,React.createElement(\"span\",{className:styles.CloseButton},React.createElement(Close,{openHandler:props.openHandler},\"X\")),optionsBody))));};export default FilterOptions;","map":{"version":3,"sources":["/home/anthony/Desktop/if-you-were-here/client/src/components/FilterOptions/FilterOptions.js"],"names":["React","useState","useSelector","styles","FilterOption","SortOption","Close","FontAwesomeIcon","faClock","faPen","faUserCheck","Container","Col","Row","Spinner","FilterOptions","props","whoSelected","setWhoSelected","identitySelected","setIdentitySelected","sortSelected","setSortSelected","persons","state","personsError","error","filterHandler","filter","name","sortHandler","parentClasses","ContentViewer","childClasses","expand","ContentViewerOpen","join","OpenFilterOptions","whoFilters","sort","a","b","position","map","person","index","identityFilters","sortOptions","type","optionsBody","CloseButton","openHandler","Header","color","FilterOptionsMiddle","SubmitButton","fontWeight","ContentContainer"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport styles from \"./FilterOptions.module.css\";\nimport FilterOption from \"./FilterOption/FilterOption\";\nimport SortOption from \"./SortOption/SortOption\";\nimport Close from \"../UI/Buttons/Close/Close\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faClock, faPen, faUserCheck } from \"@fortawesome/free-solid-svg-icons\";\nimport Container from \"react-bootstrap/Container\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Spinner from \"../UI/Spinners/FormSpinner/FormSpinner\";\n\nconst FilterOptions = (props) => {\n  const [whoSelected, setWhoSelected] = useState(null);\n  const [identitySelected, setIdentitySelected] = useState(null);\n  const [sortSelected, setSortSelected] = useState(null);\n  const persons = useSelector((state) => state.persons.persons);\n  const personsError = useSelector((state) => state.persons.error);\n\n  const filterHandler = (filter, name) => {\n    if (whoSelected === filter && name === \"who\") {\n      setWhoSelected(null);\n    } else if (identitySelected === filter && name === \"identity\") {\n      setIdentitySelected(null);\n    } else if (name === \"who\") {\n      setWhoSelected(filter);\n    } else if (name === \"identity\") {\n      setIdentitySelected(filter);\n    }\n  };\n\n  const sortHandler = (filter) => {\n    if (sortSelected === filter) {\n      setSortSelected(false);\n    } else {\n      setSortSelected(filter);\n    }\n  };\n\n  let parentClasses = styles.ContentViewer;\n  let childClasses = styles.FilterOptions;\n\n  if (props.expand) {\n    parentClasses = [styles.ContentViewer, styles.ContentViewerOpen].join(\" \");\n    childClasses = [styles.FilterOptions, styles.OpenFilterOptions].join(\" \");\n  }\n\n  const whoFilters = persons\n    .sort((a, b) => a.position - b.position)\n    .map((person, index) => (\n      <FilterOption\n        filterHandler={filterHandler}\n        key={index}\n        filterSelected={whoSelected}\n        filter={person.name}\n        name=\"who\"\n      />\n    ));\n\n  const identityFilters = persons\n    .sort((a, b) => a.position - b.position)\n    .map((person, index) => (\n      <FilterOption\n        filterHandler={filterHandler}\n        key={index}\n        filterSelected={identitySelected}\n        filter={person.name}\n        name=\"identity\"\n      />\n    ));\n\n  const sortOptions = [\"Newest\", \"Oldest\"].map((type, index) => (\n    <SortOption\n      sortHandler={sortHandler}\n      key={index}\n      sortSelected={sortSelected}\n      filter={type}\n    />\n  ));\n\n  let optionsBody = <Spinner />;\n\n  if (persons) {\n    optionsBody = (\n      <>\n        <span className={styles.CloseButton}>\n          <Close openHandler={props.openHandler}>X</Close>\n        </span>\n        <Row>\n          <Col lg={4}>\n            <span className={styles.Header}>\n              <FontAwesomeIcon\n                icon={faPen}\n                size=\"1x\"\n                style={{ color: \"orange\" }}\n              />{\" \"}\n              Addressed to\n            </span>\n            <br />\n            {whoFilters}\n          </Col>\n          <Col lg={4} className={styles.FilterOptionsMiddle}>\n            <span className={styles.Header}>\n              <FontAwesomeIcon\n                icon={faUserCheck}\n                size=\"1x\"\n                style={{ color: \"orange\" }}\n              />{\" \"}\n              Sent by\n            </span>\n            <br />\n            {identityFilters}\n          </Col>\n          <Col lg={4}>\n            <span className={styles.Header}>\n              <FontAwesomeIcon\n                icon={faClock}\n                size=\"1x\"\n                style={{ color: \"orange\" }}\n              />{\" \"}\n              By Date\n            </span>\n            <br />\n            {sortOptions}\n          </Col>\n        </Row>\n        <center>\n          <span className={styles.SubmitButton}>\n            <Close openHandler={props.openHandler}>OK</Close>\n          </span>\n        </center>\n      </>\n    );\n  }\n\n  if (personsError) {\n    optionsBody = (\n      <center>\n        <span style={{ color: \"red\", fontWeight: \"bold\" }}>\n          Sorry, an error has occurred and IT has been notified:\n        </span>\n        <span style={{ color: \"white\" }}> {personsError}</span>\n      </center>\n    );\n  }\n\n  return (\n    <div className={styles.ContentContainer}>\n      <div className={parentClasses}>\n        <div className={childClasses}>\n          <Container>\n            <span className={styles.CloseButton}>\n              <Close openHandler={props.openHandler}>X</Close>\n            </span>\n            {optionsBody}\n          </Container>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FilterOptions;\n"]},"metadata":{},"sourceType":"module"}