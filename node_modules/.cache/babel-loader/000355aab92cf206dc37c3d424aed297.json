{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nimport keys from \"../../config/keys\";\nexport const submitMessage = message => {\n  return async dispatch => {\n    try {\n      dispatch(submitMessageStart());\n      const response = await fetch(\"api/messages\", {\n        method: \"POST\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\" // 'Content-Type': 'application/x-www-form-urlencoded',\n\n        },\n        body: message\n      });\n      const data = await response.json();\n      dispatch(submitMessageSuccess(data));\n    } catch (err) {\n      dispatch(submitMessageFail(err));\n    }\n  };\n};\nexport const submitMessageStart = () => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_START\n  };\n};\nexport const submitMessageSuccess = message => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_SUCCESS,\n    message\n  };\n};\nexport const submitMessageFail = error => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_FAIL,\n    error: error.message\n  };\n};\nexport const submitMessageReset = () => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_RESET\n  };\n};\nexport const setMessage = messageId => {\n  return {\n    type: actionTypes.FIND_MESSAGE,\n    messageId\n  };\n};\nexport const resetMessage = () => {\n  return {\n    type: actionTypes.RESET_MESSAGE\n  };\n};","map":{"version":3,"sources":["/home/anthony/Desktop/if-you-were-here/client/src/store/actions/messages.js"],"names":["actionTypes","keys","submitMessage","message","dispatch","submitMessageStart","response","fetch","method","mode","cache","credentials","headers","body","data","json","submitMessageSuccess","err","submitMessageFail","type","SUBMIT_MESSAGE_START","SUBMIT_MESSAGE_SUCCESS","error","SUBMIT_MESSAGE_FAIL","submitMessageReset","SUBMIT_MESSAGE_RESET","setMessage","messageId","FIND_MESSAGE","resetMessage","RESET_MESSAGE"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,eAA7B;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,OAAO,MAAMC,aAAa,GAAIC,OAAD,IAAa;AACxC,SAAO,MAAOC,QAAP,IAAoB;AACzB,QAAI;AACFA,MAAAA,QAAQ,CAACC,kBAAkB,EAAnB,CAAR;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,cAAD,EAAiB;AAC3CC,QAAAA,MAAM,EAAE,MADmC;AAE3CC,QAAAA,IAAI,EAAE,MAFqC;AAG3CC,QAAAA,KAAK,EAAE,UAHoC;AAI3CC,QAAAA,WAAW,EAAE,aAJ8B;AAK3CC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT,CAEP;;AAFO,SALkC;AAS3CC,QAAAA,IAAI,EAAEV;AATqC,OAAjB,CAA5B;AAWA,YAAMW,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAT,EAAnB;AACAX,MAAAA,QAAQ,CAACY,oBAAoB,CAACF,IAAD,CAArB,CAAR;AACD,KAfD,CAeE,OAAOG,GAAP,EAAY;AACZb,MAAAA,QAAQ,CAACc,iBAAiB,CAACD,GAAD,CAAlB,CAAR;AACD;AACF,GAnBD;AAoBD,CArBM;AAuBP,OAAO,MAAMZ,kBAAkB,GAAG,MAAM;AACtC,SAAO;AACLc,IAAAA,IAAI,EAAEnB,WAAW,CAACoB;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMJ,oBAAoB,GAAIb,OAAD,IAAa;AAC/C,SAAO;AACLgB,IAAAA,IAAI,EAAEnB,WAAW,CAACqB,sBADb;AAELlB,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAMe,iBAAiB,GAAII,KAAD,IAAW;AAC1C,SAAO;AACLH,IAAAA,IAAI,EAAEnB,WAAW,CAACuB,mBADb;AAELD,IAAAA,KAAK,EAAEA,KAAK,CAACnB;AAFR,GAAP;AAID,CALM;AAOP,OAAO,MAAMqB,kBAAkB,GAAG,MAAM;AACtC,SAAO;AACLL,IAAAA,IAAI,EAAEnB,WAAW,CAACyB;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,UAAU,GAAIC,SAAD,IAAe;AACvC,SAAO;AACLR,IAAAA,IAAI,EAAEnB,WAAW,CAAC4B,YADb;AAELD,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAME,YAAY,GAAG,MAAM;AAChC,SAAO;AACLV,IAAAA,IAAI,EAAEnB,WAAW,CAAC8B;AADb,GAAP;AAGD,CAJM","sourcesContent":["import * as actionTypes from \"./actionTypes\";\nimport keys from \"../../config/keys\";\n\nexport const submitMessage = (message) => {\n  return async (dispatch) => {\n    try {\n      dispatch(submitMessageStart());\n      const response = await fetch(\"api/messages\", {\n        method: \"POST\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          // 'Content-Type': 'application/x-www-form-urlencoded',\n        },\n        body: message,\n      });\n      const data = await response.json();\n      dispatch(submitMessageSuccess(data));\n    } catch (err) {\n      dispatch(submitMessageFail(err));\n    }\n  };\n};\n\nexport const submitMessageStart = () => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_START,\n  };\n};\n\nexport const submitMessageSuccess = (message) => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_SUCCESS,\n    message,\n  };\n};\n\nexport const submitMessageFail = (error) => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_FAIL,\n    error: error.message,\n  };\n};\n\nexport const submitMessageReset = () => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_RESET,\n  };\n};\n\nexport const setMessage = (messageId) => {\n  return {\n    type: actionTypes.FIND_MESSAGE,\n    messageId,\n  };\n};\n\nexport const resetMessage = () => {\n  return {\n    type: actionTypes.RESET_MESSAGE,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}