{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nexport const fetchMessages = (postId, count) => {\n  return async dispatch => {\n    try {\n      dispatch(fetchMessagesStart());\n      const response = await fetch(`/api/messages?count=${count}`, {\n        method: \"GET\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const {\n        messages,\n        count: messageCount\n      } = await response.json();\n      dispatch(fetchMessagesSuccess(messages, messageCount));\n    } catch (err) {\n      dispatch(fetchMessagesFail(err));\n    }\n  };\n};\nexport const fetchMessagesStart = () => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_START\n  };\n};\nexport const fetchMessagesSuccess = (messages, count) => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_SUCCESS,\n    messages,\n    count\n  };\n};\nexport const fetchMessagesFail = error => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_FAIL,\n    error\n  };\n};\nexport const fetchMoreMessages = (postId, count) => {\n  return async dispatch => {\n    try {\n      dispatch(fetchMoreMessagesStart());\n      const response = await fetch(`/api/messages?count=${count}&id=${postId}`, {\n        method: \"GET\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const data = await response.json();\n      dispatch(fetchMoreMessagesSuccess(data));\n    } catch (err) {\n      dispatch(fetchMoreMessagesFail(err));\n    }\n  };\n};\nexport const fetchMoreMessagesStart = () => {\n  return {\n    type: actionTypes.FETCH_MORE_MESSAGES_START\n  };\n};\nexport const fetchMoreMessagesSuccess = (messages, count) => {\n  return {\n    type: actionTypes.FETCH_MORE_MESSAGES_SUCCESS,\n    messages,\n    count\n  };\n};\nexport const fetchMoreMessagesFail = error => {\n  return {\n    type: actionTypes.FETCH_MORE_MESSAGES_FAIL,\n    error\n  };\n};","map":{"version":3,"sources":["/home/anthony/Desktop/if-you-were-here/client/src/store/actions/messages.js"],"names":["actionTypes","fetchMessages","postId","count","dispatch","fetchMessagesStart","response","fetch","method","mode","cache","credentials","headers","messages","messageCount","json","fetchMessagesSuccess","err","fetchMessagesFail","type","FETCH_MESSAGES_START","FETCH_MESSAGES_SUCCESS","error","FETCH_MESSAGES_FAIL","fetchMoreMessages","fetchMoreMessagesStart","data","fetchMoreMessagesSuccess","fetchMoreMessagesFail","FETCH_MORE_MESSAGES_START","FETCH_MORE_MESSAGES_SUCCESS","FETCH_MORE_MESSAGES_FAIL"],"mappings":"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","sourcesContent":["import * as actionTypes from \"./actionTypes\";\n\nexport const fetchMessages = (postId, count) => {\n  return async (dispatch) => {\n    try {\n      dispatch(fetchMessagesStart());\n      const response = await fetch(`/api/messages?count=${count}`, {\n        method: \"GET\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      const { messages, count: messageCount } = await response.json();\n      dispatch(fetchMessagesSuccess(messages, messageCount));\n    } catch (err) {\n      dispatch(fetchMessagesFail(err));\n    }\n  };\n};\n\nexport const fetchMessagesStart = () => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_START,\n  };\n};\n\nexport const fetchMessagesSuccess = (messages, count) => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_SUCCESS,\n    messages,\n    count,\n  };\n};\n\nexport const fetchMessagesFail = (error) => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_FAIL,\n    error,\n  };\n};\n\nexport const fetchMoreMessages = (postId, count) => {\n  return async (dispatch) => {\n    try {\n      dispatch(fetchMoreMessagesStart());\n      const response = await fetch(\n        `/api/messages?count=${count}&id=${postId}`,\n        {\n          method: \"GET\",\n          mode: \"cors\",\n          cache: \"no-cache\",\n          credentials: \"same-origin\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      const data = await response.json();\n      dispatch(fetchMoreMessagesSuccess(data));\n    } catch (err) {\n      dispatch(fetchMoreMessagesFail(err));\n    }\n  };\n};\n\nexport const fetchMoreMessagesStart = () => {\n  return {\n    type: actionTypes.FETCH_MORE_MESSAGES_START,\n  };\n};\n\nexport const fetchMoreMessagesSuccess = (messages, count) => {\n  return {\n    type: actionTypes.FETCH_MORE_MESSAGES_SUCCESS,\n    messages,\n    count,\n  };\n};\n\nexport const fetchMoreMessagesFail = (error) => {\n  return {\n    type: actionTypes.FETCH_MORE_MESSAGES_FAIL,\n    error,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}