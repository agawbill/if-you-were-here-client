{"ast":null,"code":"import _slicedToArray from\"/home/anthony/Desktop/if-you-were-here/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import styles from\"./FilterOption.module.css\";import{useDispatch,useSelector}from\"react-redux\";import{addFilter,removeFilter}from\"../../../store/actions\";var FilterOption=function FilterOption(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),selected=_useState2[0],setSelected=_useState2[1];var _useSelector=useSelector(function(state){return state.filters;}),who=_useSelector.who,identity=_useSelector.identity;var sort=useSelector(function(state){return state.sort;});var dispatch=useDispatch();var filter=props.filter,filterHandler=props.filterHandler,filterSelected=props.filterSelected,name=props.name;var selectHandler=function selectHandler(filter,name){setSelected(function(prevState){return!prevState;});filterHandler(filter,name);};useEffect(function(){if(filter!==filterSelected){setSelected(false);}},[filterSelected]);useEffect(function(){var filtered=who!==null&&identity!==null;// because 1 of the 2 values = the filter that's being passed... it removes the value\n// when it's 2 different values, and you change the value, NEITHER value equals the filter being passed thus it adds\n// for instance. if who = husband and identity = other, and you click wife for identity... then the filter doesn't\n// equal the who value or the identity value, thus it adds a new value to the identity value\nif(!selected&&name===\"who\"&&who===filter){dispatch(removeFilter(filter,name,filtered,sort));}else if(!selected&&name===\"identity\"&&identity===filter){dispatch(removeFilter(filter,name,filtered,sort));}else if(selected){dispatch(addFilter(filter,name,true,sort));}},[selected]);return React.createElement(\"div\",{className:selected?styles.FilterOptionSelected:styles.FilterOption,onClick:function onClick(){return selectHandler(filter,name);}},props.filter);};export default FilterOption;","map":{"version":3,"sources":["/home/anthony/Desktop/if-you-were-here/client/src/components/FilterOptions/FilterOption/FilterOption.js"],"names":["React","useState","useEffect","styles","useDispatch","useSelector","addFilter","removeFilter","FilterOption","props","selected","setSelected","state","filters","who","identity","sort","dispatch","filter","filterHandler","filterSelected","name","selectHandler","prevState","filtered","FilterOptionSelected"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,CAAoBC,YAApB,KAAwC,wBAAxC,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,eACIR,QAAQ,CAAC,KAAD,CADZ,wCACrBS,QADqB,eACXC,WADW,gCAEFN,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACC,OAAV,EAAN,CAFT,CAEpBC,GAFoB,cAEpBA,GAFoB,CAEfC,QAFe,cAEfA,QAFe,CAG5B,GAAMC,CAAAA,IAAI,CAAGX,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACI,IAAV,EAAN,CAAxB,CACA,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CAJ4B,GAKpBc,CAAAA,MALoB,CAK4BT,KAL5B,CAKpBS,MALoB,CAKZC,aALY,CAK4BV,KAL5B,CAKZU,aALY,CAKGC,cALH,CAK4BX,KAL5B,CAKGW,cALH,CAKmBC,IALnB,CAK4BZ,KAL5B,CAKmBY,IALnB,CAM5B,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACJ,MAAD,CAASG,IAAT,CAAkB,CACtCV,WAAW,CAAC,SAAAY,SAAS,QAAI,CAACA,SAAL,EAAV,CAAX,CACAJ,aAAa,CAACD,MAAD,CAASG,IAAT,CAAb,CACD,CAHD,CAKAnB,SAAS,CAAC,UAAM,CACd,GAAIgB,MAAM,GAAKE,cAAf,CAA+B,CAC7BT,WAAW,CAAC,KAAD,CAAX,CACD,CACF,CAJQ,CAIN,CAACS,cAAD,CAJM,CAAT,CAMAlB,SAAS,CAAC,UAAM,CACd,GAAMsB,CAAAA,QAAQ,CAAGV,GAAG,GAAK,IAAR,EAAgBC,QAAQ,GAAK,IAA9C,CACA;AACA;AACA;AACA;AACA,GAAI,CAACL,QAAD,EAAaW,IAAI,GAAK,KAAtB,EAA+BP,GAAG,GAAKI,MAA3C,CAAmD,CACjDD,QAAQ,CAACV,YAAY,CAACW,MAAD,CAASG,IAAT,CAAeG,QAAf,CAAyBR,IAAzB,CAAb,CAAR,CACD,CAFD,IAEO,IAAI,CAACN,QAAD,EAAaW,IAAI,GAAK,UAAtB,EAAoCN,QAAQ,GAAKG,MAArD,CAA6D,CAClED,QAAQ,CAACV,YAAY,CAACW,MAAD,CAASG,IAAT,CAAeG,QAAf,CAAyBR,IAAzB,CAAb,CAAR,CACD,CAFM,IAEA,IAAIN,QAAJ,CAAc,CACnBO,QAAQ,CAACX,SAAS,CAACY,MAAD,CAASG,IAAT,CAAe,IAAf,CAAqBL,IAArB,CAAV,CAAR,CACD,CACF,CAbQ,CAaN,CAACN,QAAD,CAbM,CAAT,CAeA,MACE,4BACE,SAAS,CAAEA,QAAQ,CAAGP,MAAM,CAACsB,oBAAV,CAAiCtB,MAAM,CAACK,YAD7D,CAEE,OAAO,CAAE,yBAAMc,CAAAA,aAAa,CAACJ,MAAD,CAASG,IAAT,CAAnB,EAFX,EAIGZ,KAAK,CAACS,MAJT,CADF,CAQD,CAxCD,CA0CA,cAAeV,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styles from \"./FilterOption.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addFilter, removeFilter } from \"../../../store/actions\";\n\nconst FilterOption = props => {\n  const [selected, setSelected] = useState(false);\n  const { who, identity } = useSelector(state => state.filters);\n  const sort = useSelector(state => state.sort);\n  const dispatch = useDispatch();\n  const { filter, filterHandler, filterSelected, name } = props;\n  const selectHandler = (filter, name) => {\n    setSelected(prevState => !prevState);\n    filterHandler(filter, name);\n  };\n\n  useEffect(() => {\n    if (filter !== filterSelected) {\n      setSelected(false);\n    }\n  }, [filterSelected]);\n\n  useEffect(() => {\n    const filtered = who !== null && identity !== null;\n    // because 1 of the 2 values = the filter that's being passed... it removes the value\n    // when it's 2 different values, and you change the value, NEITHER value equals the filter being passed thus it adds\n    // for instance. if who = husband and identity = other, and you click wife for identity... then the filter doesn't\n    // equal the who value or the identity value, thus it adds a new value to the identity value\n    if (!selected && name === \"who\" && who === filter) {\n      dispatch(removeFilter(filter, name, filtered, sort));\n    } else if (!selected && name === \"identity\" && identity === filter) {\n      dispatch(removeFilter(filter, name, filtered, sort));\n    } else if (selected) {\n      dispatch(addFilter(filter, name, true, sort));\n    }\n  }, [selected]);\n\n  return (\n    <div\n      className={selected ? styles.FilterOptionSelected : styles.FilterOption}\n      onClick={() => selectHandler(filter, name)}\n    >\n      {props.filter}\n    </div>\n  );\n};\n\nexport default FilterOption;\n"]},"metadata":{},"sourceType":"module"}