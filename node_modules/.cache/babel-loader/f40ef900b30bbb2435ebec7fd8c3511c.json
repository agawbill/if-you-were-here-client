{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nexport const fetchMessages = () => {\n  return async dispatch => {\n    try {\n      dispatch(fetchMessagesStart());\n      const response = await fetch(\"api/messages\", {\n        method: \"GET\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const data = await response.json();\n      dispatch(fetchMessagesSuccess(data));\n    } catch (err) {\n      dispatch(fetchMessagesFail(err));\n    }\n  };\n};\nexport const fetchMessagesStart = () => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_START\n  };\n};\nexport const fetchMessagesSuccess = messages => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_SUCCESS,\n    messages\n  };\n};\nexport const fetchMessagesFail = messages => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_SUCCESS,\n    messages\n  };\n};\nexport const submitMessage = message => {\n  return async dispatch => {\n    try {\n      dispatch(submitMessageStart());\n      const response = await fetch(\"/api/messages\", {\n        method: \"POST\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(message)\n      });\n      const data = await response.json();\n      dispatch(submitMessageSuccess(data));\n    } catch (err) {\n      dispatch(submitMessageFail(err));\n    }\n  };\n};\nexport const submitMessageStart = () => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_START\n  };\n};\nexport const submitMessageSuccess = message => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_SUCCESS,\n    message\n  };\n};\nexport const submitMessageFail = error => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_FAIL,\n    error: error.message\n  };\n};\nexport const submitMessageReset = () => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_RESET\n  };\n};\nexport const fetchMessage = messageId => {\n  return async dispatch => {\n    try {\n      dispatch(fetchMessageStart());\n      const response = await fetch(`api/messages/${messageId}`, {\n        method: \"GET\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const data = await response.json();\n      console.log(data);\n      dispatch(fetchMessageSuccess(data));\n    } catch (err) {\n      console.log(err);\n      dispatch(fetchMessageFail(err));\n    }\n  };\n};\nexport const fetchMessageStart = () => {\n  return {\n    type: actionTypes.FETCH_MESSAGE_START\n  };\n};\nexport const fetchMessageSuccess = message => {\n  return {\n    type: actionTypes.FETCH_MESSAGE_SUCCESS,\n    message\n  };\n};\nexport const fetchMessageFail = error => {\n  return {\n    type: actionTypes.FETCH_MESSAGE_FAIL,\n    error\n  };\n};\nexport const resetMessage = () => {\n  return {\n    type: actionTypes.RESET_MESSAGE\n  };\n};","map":{"version":3,"sources":["/home/anthony/Desktop/if-you-were-here/client/src/store/actions/messages.js"],"names":["actionTypes","fetchMessages","dispatch","fetchMessagesStart","response","fetch","method","mode","cache","credentials","headers","data","json","fetchMessagesSuccess","err","fetchMessagesFail","type","FETCH_MESSAGES_START","messages","FETCH_MESSAGES_SUCCESS","submitMessage","message","submitMessageStart","body","JSON","stringify","submitMessageSuccess","submitMessageFail","SUBMIT_MESSAGE_START","SUBMIT_MESSAGE_SUCCESS","error","SUBMIT_MESSAGE_FAIL","submitMessageReset","SUBMIT_MESSAGE_RESET","fetchMessage","messageId","fetchMessageStart","console","log","fetchMessageSuccess","fetchMessageFail","FETCH_MESSAGE_START","FETCH_MESSAGE_SUCCESS","FETCH_MESSAGE_FAIL","resetMessage","RESET_MESSAGE"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,eAA7B;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;AACjC,SAAO,MAAOC,QAAP,IAAoB;AACzB,QAAI;AACFA,MAAAA,QAAQ,CAACC,kBAAkB,EAAnB,CAAR;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,cAAD,EAAiB;AAC3CC,QAAAA,MAAM,EAAE,KADmC;AAE3CC,QAAAA,IAAI,EAAE,MAFqC;AAG3CC,QAAAA,KAAK,EAAE,UAHoC;AAI3CC,QAAAA,WAAW,EAAE,aAJ8B;AAK3CC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AALkC,OAAjB,CAA5B;AASA,YAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAAnB;AACAV,MAAAA,QAAQ,CAACW,oBAAoB,CAACF,IAAD,CAArB,CAAR;AACD,KAbD,CAaE,OAAOG,GAAP,EAAY;AACZZ,MAAAA,QAAQ,CAACa,iBAAiB,CAACD,GAAD,CAAlB,CAAR;AACD;AACF,GAjBD;AAkBD,CAnBM;AAqBP,OAAO,MAAMX,kBAAkB,GAAG,MAAM;AACtC,SAAO;AACLa,IAAAA,IAAI,EAAEhB,WAAW,CAACiB;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMJ,oBAAoB,GAAIK,QAAD,IAAc;AAChD,SAAO;AACLF,IAAAA,IAAI,EAAEhB,WAAW,CAACmB,sBADb;AAELD,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAMH,iBAAiB,GAAIG,QAAD,IAAc;AAC7C,SAAO;AACLF,IAAAA,IAAI,EAAEhB,WAAW,CAACmB,sBADb;AAELD,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAME,aAAa,GAAIC,OAAD,IAAa;AACxC,SAAO,MAAOnB,QAAP,IAAoB;AACzB,QAAI;AACFA,MAAAA,QAAQ,CAACoB,kBAAkB,EAAnB,CAAR;AACA,YAAMlB,QAAQ,GAAG,MAAMC,KAAK,CAAC,eAAD,EAAkB;AAC5CC,QAAAA,MAAM,EAAE,MADoC;AAE5CC,QAAAA,IAAI,EAAE,MAFsC;AAG5CC,QAAAA,KAAK,EAAE,UAHqC;AAI5CC,QAAAA,WAAW,EAAE,aAJ+B;AAK5CC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SALmC;AAQ5Ca,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeJ,OAAf;AARsC,OAAlB,CAA5B;AAUA,YAAMV,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAAnB;AACAV,MAAAA,QAAQ,CAACwB,oBAAoB,CAACf,IAAD,CAArB,CAAR;AACD,KAdD,CAcE,OAAOG,GAAP,EAAY;AACZZ,MAAAA,QAAQ,CAACyB,iBAAiB,CAACb,GAAD,CAAlB,CAAR;AACD;AACF,GAlBD;AAmBD,CApBM;AAsBP,OAAO,MAAMQ,kBAAkB,GAAG,MAAM;AACtC,SAAO;AACLN,IAAAA,IAAI,EAAEhB,WAAW,CAAC4B;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMF,oBAAoB,GAAIL,OAAD,IAAa;AAC/C,SAAO;AACLL,IAAAA,IAAI,EAAEhB,WAAW,CAAC6B,sBADb;AAELR,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAMM,iBAAiB,GAAIG,KAAD,IAAW;AAC1C,SAAO;AACLd,IAAAA,IAAI,EAAEhB,WAAW,CAAC+B,mBADb;AAELD,IAAAA,KAAK,EAAEA,KAAK,CAACT;AAFR,GAAP;AAID,CALM;AAOP,OAAO,MAAMW,kBAAkB,GAAG,MAAM;AACtC,SAAO;AACLhB,IAAAA,IAAI,EAAEhB,WAAW,CAACiC;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,YAAY,GAAIC,SAAD,IAAe;AACzC,SAAO,MAAOjC,QAAP,IAAoB;AACzB,QAAI;AACFA,MAAAA,QAAQ,CAACkC,iBAAiB,EAAlB,CAAR;AACA,YAAMhC,QAAQ,GAAG,MAAMC,KAAK,CAAE,gBAAe8B,SAAU,EAA3B,EAA8B;AACxD7B,QAAAA,MAAM,EAAE,KADgD;AAExDC,QAAAA,IAAI,EAAE,MAFkD;AAGxDC,QAAAA,KAAK,EAAE,UAHiD;AAIxDC,QAAAA,WAAW,EAAE,aAJ2C;AAKxDC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAL+C,OAA9B,CAA5B;AASA,YAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAAnB;AACAyB,MAAAA,OAAO,CAACC,GAAR,CAAY3B,IAAZ;AACAT,MAAAA,QAAQ,CAACqC,mBAAmB,CAAC5B,IAAD,CAApB,CAAR;AACD,KAdD,CAcE,OAAOG,GAAP,EAAY;AACZuB,MAAAA,OAAO,CAACC,GAAR,CAAYxB,GAAZ;AAEAZ,MAAAA,QAAQ,CAACsC,gBAAgB,CAAC1B,GAAD,CAAjB,CAAR;AACD;AACF,GApBD;AAqBD,CAtBM;AAwBP,OAAO,MAAMsB,iBAAiB,GAAG,MAAM;AACrC,SAAO;AACLpB,IAAAA,IAAI,EAAEhB,WAAW,CAACyC;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMF,mBAAmB,GAAIlB,OAAD,IAAa;AAC9C,SAAO;AACLL,IAAAA,IAAI,EAAEhB,WAAW,CAAC0C,qBADb;AAELrB,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAMmB,gBAAgB,GAAIV,KAAD,IAAW;AACzC,SAAO;AACLd,IAAAA,IAAI,EAAEhB,WAAW,CAAC2C,kBADb;AAELb,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAMc,YAAY,GAAG,MAAM;AAChC,SAAO;AACL5B,IAAAA,IAAI,EAAEhB,WAAW,CAAC6C;AADb,GAAP;AAGD,CAJM","sourcesContent":["import * as actionTypes from \"./actionTypes\";\n\nexport const fetchMessages = () => {\n  return async (dispatch) => {\n    try {\n      dispatch(fetchMessagesStart());\n      const response = await fetch(\"api/messages\", {\n        method: \"GET\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      const data = await response.json();\n      dispatch(fetchMessagesSuccess(data));\n    } catch (err) {\n      dispatch(fetchMessagesFail(err));\n    }\n  };\n};\n\nexport const fetchMessagesStart = () => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_START,\n  };\n};\n\nexport const fetchMessagesSuccess = (messages) => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_SUCCESS,\n    messages,\n  };\n};\n\nexport const fetchMessagesFail = (messages) => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_SUCCESS,\n    messages,\n  };\n};\n\nexport const submitMessage = (message) => {\n  return async (dispatch) => {\n    try {\n      dispatch(submitMessageStart());\n      const response = await fetch(\"/api/messages\", {\n        method: \"POST\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(message),\n      });\n      const data = await response.json();\n      dispatch(submitMessageSuccess(data));\n    } catch (err) {\n      dispatch(submitMessageFail(err));\n    }\n  };\n};\n\nexport const submitMessageStart = () => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_START,\n  };\n};\n\nexport const submitMessageSuccess = (message) => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_SUCCESS,\n    message,\n  };\n};\n\nexport const submitMessageFail = (error) => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_FAIL,\n    error: error.message,\n  };\n};\n\nexport const submitMessageReset = () => {\n  return {\n    type: actionTypes.SUBMIT_MESSAGE_RESET,\n  };\n};\n\nexport const fetchMessage = (messageId) => {\n  return async (dispatch) => {\n    try {\n      dispatch(fetchMessageStart());\n      const response = await fetch(`api/messages/${messageId}`, {\n        method: \"GET\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      const data = await response.json();\n      console.log(data);\n      dispatch(fetchMessageSuccess(data));\n    } catch (err) {\n      console.log(err);\n\n      dispatch(fetchMessageFail(err));\n    }\n  };\n};\n\nexport const fetchMessageStart = () => {\n  return {\n    type: actionTypes.FETCH_MESSAGE_START,\n  };\n};\n\nexport const fetchMessageSuccess = (message) => {\n  return {\n    type: actionTypes.FETCH_MESSAGE_SUCCESS,\n    message,\n  };\n};\n\nexport const fetchMessageFail = (error) => {\n  return {\n    type: actionTypes.FETCH_MESSAGE_FAIL,\n    error,\n  };\n};\n\nexport const resetMessage = () => {\n  return {\n    type: actionTypes.RESET_MESSAGE,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}