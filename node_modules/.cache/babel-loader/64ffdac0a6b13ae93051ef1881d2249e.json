{"ast":null,"code":"import _regeneratorRuntime from\"/home/anthony/Desktop/if-you-were-here/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/anthony/Desktop/if-you-were-here/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import*as actionTypes from\"./actionTypes\";export var getPersons=function getPersons(){return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return dispatch(getPersonsStart());case 3:_context.next=5;return fetch(\"/api/persons\",{method:\"GET\",cache:\"no-cache\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json\"}});case 5:response=_context.sent;_context.next=8;return response.json();case 8:data=_context.sent;_context.next=11;return dispatch(getPersonsSuccess(data.data));case 11:_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);_context.next=17;return dispatch(getPersonsFail(_context.t0));case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function(_x){return _ref.apply(this,arguments);};}());};export var getPersonsStart=function getPersonsStart(){return{type:actionTypes.GET_PERSONS_START};};export var getPersonsSuccess=function getPersonsSuccess(persons){return{type:actionTypes.GET_PERSONS_SUCCESS,persons:persons};};export var getPersonsFail=function getPersonsFail(error){return{type:actionTypes.GET_PERSONS_FAIL,error:error.message};};export var getPersonsReset=function getPersonsReset(){return{type:actionTypes.GET_PERSONS_RESET};};","map":{"version":3,"sources":["/home/anthony/Desktop/if-you-were-here/client/src/store/actions/persons.js"],"names":["actionTypes","getPersons","dispatch","getPersonsStart","fetch","method","cache","credentials","headers","response","json","data","getPersonsSuccess","getPersonsFail","type","GET_PERSONS_START","persons","GET_PERSONS_SUCCESS","error","GET_PERSONS_FAIL","message","getPersonsReset","GET_PERSONS_RESET"],"mappings":"qUAAA,MAAO,GAAKA,CAAAA,WAAZ,KAA6B,eAA7B,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAC9B,gGAAO,iBAAOC,QAAP,0KAEGA,CAAAA,QAAQ,CAACC,eAAe,EAAhB,CAFX,8BAGoBC,CAAAA,KAAK,CAAC,cAAD,CAAiB,CAC3CC,MAAM,CAAE,KADmC,CAE3CC,KAAK,CAAE,UAFoC,CAG3CC,WAAW,CAAE,aAH8B,CAI3CC,OAAO,CAAE,CACP,eAAgB,kBADT,CAJkC,CAAjB,CAHzB,QAGGC,QAHH,qCAWgBA,CAAAA,QAAQ,CAACC,IAAT,EAXhB,QAWGC,IAXH,sCAYGT,CAAAA,QAAQ,CAACU,iBAAiB,CAACD,IAAI,CAACA,IAAN,CAAlB,CAZX,iHAcGT,CAAAA,QAAQ,CAACW,cAAc,aAAf,CAdX,sEAAP,gEAiBD,CAlBM,CAoBP,MAAO,IAAMV,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CACnC,MAAO,CACLW,IAAI,CAAEd,WAAW,CAACe,iBADb,CAAP,CAGD,CAJM,CAMP,MAAO,IAAMH,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACI,OAAD,CAAa,CAC5C,MAAO,CACLF,IAAI,CAAEd,WAAW,CAACiB,mBADb,CAELD,OAAO,CAAPA,OAFK,CAAP,CAID,CALM,CAOP,MAAO,IAAMH,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACK,KAAD,CAAW,CACvC,MAAO,CACLJ,IAAI,CAAEd,WAAW,CAACmB,gBADb,CAELD,KAAK,CAAEA,KAAK,CAACE,OAFR,CAAP,CAID,CALM,CAOP,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CACnC,MAAO,CACLP,IAAI,CAAEd,WAAW,CAACsB,iBADb,CAAP,CAGD,CAJM","sourcesContent":["import * as actionTypes from \"./actionTypes\";\n\nexport const getPersons = () => {\n  return async (dispatch) => {\n    try {\n      await dispatch(getPersonsStart());\n      const response = await fetch(\"/api/persons\", {\n        method: \"GET\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      const data = await response.json();\n      await dispatch(getPersonsSuccess(data.data));\n    } catch (err) {\n      await dispatch(getPersonsFail(err));\n    }\n  };\n};\n\nexport const getPersonsStart = () => {\n  return {\n    type: actionTypes.GET_PERSONS_START,\n  };\n};\n\nexport const getPersonsSuccess = (persons) => {\n  return {\n    type: actionTypes.GET_PERSONS_SUCCESS,\n    persons,\n  };\n};\n\nexport const getPersonsFail = (error) => {\n  return {\n    type: actionTypes.GET_PERSONS_FAIL,\n    error: error.message,\n  };\n};\n\nexport const getPersonsReset = () => {\n  return {\n    type: actionTypes.GET_PERSONS_RESET,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}