{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nimport { interceptor } from \"../../hoc/withErrorHandler\";\nexport const fetchMessages = () => {\n  return async dispatch => {\n    try {\n      dispatch(fetchMessagesStart());\n      const response = await fetch(\"/apsi/messages\", {\n        method: \"GET\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const data = await response.json();\n      dispatch(fetchMessagesSuccess(data));\n    } catch (err) {\n      console.log(err);\n      dispatch(fetchMessagesFail(err));\n      interceptor(err);\n    }\n  };\n};\nexport const fetchMessagesStart = () => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_START\n  };\n};\nexport const fetchMessagesSuccess = messages => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_SUCCESS,\n    messages\n  };\n};\nexport const fetchMessagesFail = error => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_FAIL,\n    error\n  };\n};","map":{"version":3,"sources":["/home/anthony/Desktop/if-you-were-here/client/src/store/actions/messages.js"],"names":["actionTypes","interceptor","fetchMessages","dispatch","fetchMessagesStart","response","fetch","method","mode","cache","credentials","headers","data","json","fetchMessagesSuccess","err","console","log","fetchMessagesFail","type","FETCH_MESSAGES_START","messages","FETCH_MESSAGES_SUCCESS","error","FETCH_MESSAGES_FAIL"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,eAA7B;AACA,SAASC,WAAT,QAA4B,4BAA5B;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;AACjC,SAAO,MAAOC,QAAP,IAAoB;AACzB,QAAI;AACFA,MAAAA,QAAQ,CAACC,kBAAkB,EAAnB,CAAR;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gBAAD,EAAmB;AAC7CC,QAAAA,MAAM,EAAE,KADqC;AAE7CC,QAAAA,IAAI,EAAE,MAFuC;AAG7CC,QAAAA,KAAK,EAAE,UAHsC;AAI7CC,QAAAA,WAAW,EAAE,aAJgC;AAK7CC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AALoC,OAAnB,CAA5B;AASA,YAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAAnB;AACAV,MAAAA,QAAQ,CAACW,oBAAoB,CAACF,IAAD,CAArB,CAAR;AACD,KAbD,CAaE,OAAOG,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAEAZ,MAAAA,QAAQ,CAACe,iBAAiB,CAACH,GAAD,CAAlB,CAAR;AACAd,MAAAA,WAAW,CAACc,GAAD,CAAX;AACD;AACF,GApBD;AAqBD,CAtBM;AAwBP,OAAO,MAAMX,kBAAkB,GAAG,MAAM;AACtC,SAAO;AACLe,IAAAA,IAAI,EAAEnB,WAAW,CAACoB;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMN,oBAAoB,GAAIO,QAAD,IAAc;AAChD,SAAO;AACLF,IAAAA,IAAI,EAAEnB,WAAW,CAACsB,sBADb;AAELD,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAMH,iBAAiB,GAAIK,KAAD,IAAW;AAC1C,SAAO;AACLJ,IAAAA,IAAI,EAAEnB,WAAW,CAACwB,mBADb;AAELD,IAAAA;AAFK,GAAP;AAID,CALM","sourcesContent":["import * as actionTypes from \"./actionTypes\";\nimport { interceptor } from \"../../hoc/withErrorHandler\";\n\nexport const fetchMessages = () => {\n  return async (dispatch) => {\n    try {\n      dispatch(fetchMessagesStart());\n      const response = await fetch(\"/apsi/messages\", {\n        method: \"GET\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        credentials: \"same-origin\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      const data = await response.json();\n      dispatch(fetchMessagesSuccess(data));\n    } catch (err) {\n      console.log(err);\n\n      dispatch(fetchMessagesFail(err));\n      interceptor(err);\n    }\n  };\n};\n\nexport const fetchMessagesStart = () => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_START,\n  };\n};\n\nexport const fetchMessagesSuccess = (messages) => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_SUCCESS,\n    messages,\n  };\n};\n\nexport const fetchMessagesFail = (error) => {\n  return {\n    type: actionTypes.FETCH_MESSAGES_FAIL,\n    error,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}