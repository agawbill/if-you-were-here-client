{"ast":null,"code":"import React,{useEffect}from\"react\";import styles from\"./Messages.module.css\";import{useSelector}from\"react-redux\";import LoadMoreContainer from\"../LoadMoreContainer/LoadMoreContainer\";import MessageSnapshot from\"../../components/MessageSnapshot/MessageSnapshot\";import MessageFilter from\"../MessageFilter/MessageFilter\";import Spinner from\"../../components/UI/Spinners/FormSpinner/FormSpinner\";var Messages=function Messages(){var messages=useSelector(function(state){return state.messages.messages;});var messagesError=useSelector(function(state){return state.messages.error;});var _useSelector=useSelector(function(state){return state.messages.filters;}),who=_useSelector.who,identity=_useSelector.identity;var sort=useSelector(function(state){return state.messages.sort;});var filteredMessages=useSelector(function(state){return state.messages.filteredMessages;});var messagesLoading=useSelector(function(state){return state.messages.loading;});var messageFilter=messages.length>0?React.createElement(MessageFilter,null):null;var messagesContainer=messagesLoading?React.createElement(Spinner,null):null;if(who||identity||sort){messagesContainer=filteredMessages.slice(0,14).map(function(message,index){return React.createElement(MessageSnapshot,{key:index,entry:message,marker:index});});}else{messagesContainer=messages.slice(0,14).map(function(message,index){return React.createElement(MessageSnapshot,{key:index,entry:message,marker:index});});}if(messagesError){messagesContainer=React.createElement(React.Fragment,null,React.createElement(\"span\",{style:{color:\"red\",fontWeight:\"bold\"}},\"Sorry, an error has occurred and IT has been notified:\"),\" \",messagesError);}return React.createElement(React.Fragment,null,messageFilter,React.createElement(\"div\",{className:styles.Messages},messagesContainer,React.createElement(LoadMoreContainer,{messages:messages,filteredMessages:filteredMessages,filtered:who||identity})));};export default Messages;","map":{"version":3,"sources":["/home/anthony/Desktop/if-you-were-here/client/src/containers/Messages/Messages.js"],"names":["React","useEffect","styles","useSelector","LoadMoreContainer","MessageSnapshot","MessageFilter","Spinner","Messages","messages","state","messagesError","error","filters","who","identity","sort","filteredMessages","messagesLoading","loading","messageFilter","length","messagesContainer","slice","map","message","index","color","fontWeight"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,wCAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,kDAA5B,CACA,MAAOC,CAAAA,aAAP,KAA0B,gCAA1B,CACA,MAAOC,CAAAA,OAAP,KAAoB,sDAApB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACD,QAAN,CAAeA,QAA1B,EAAD,CAA5B,CACA,GAAME,CAAAA,aAAa,CAAGR,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACD,QAAN,CAAeG,KAA1B,EAAD,CAAjC,CAFqB,iBAGKT,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACD,QAAN,CAAeI,OAA1B,EAAD,CAHhB,CAGbC,GAHa,cAGbA,GAHa,CAGRC,QAHQ,cAGRA,QAHQ,CAIrB,GAAMC,CAAAA,IAAI,CAAGb,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACD,QAAN,CAAeO,IAA1B,EAAD,CAAxB,CACA,GAAMC,CAAAA,gBAAgB,CAAGd,WAAW,CAClC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACD,QAAN,CAAeQ,gBAA1B,EADkC,CAApC,CAGA,GAAMC,CAAAA,eAAe,CAAGf,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACD,QAAN,CAAeU,OAA1B,EAAD,CAAnC,CAEA,GAAIC,CAAAA,aAAa,CAAGX,QAAQ,CAACY,MAAT,CAAkB,CAAlB,CAAsB,oBAAC,aAAD,MAAtB,CAA0C,IAA9D,CAEA,GAAIC,CAAAA,iBAAiB,CAAGJ,eAAe,CAAG,oBAAC,OAAD,MAAH,CAAiB,IAAxD,CAEA,GAAIJ,GAAG,EAAIC,QAAP,EAAmBC,IAAvB,CAA6B,CAC3BM,iBAAiB,CAAGL,gBAAgB,CAACM,KAAjB,CAAuB,CAAvB,CAA0B,EAA1B,EAA8BC,GAA9B,CAAkC,SAACC,OAAD,CAAUC,KAAV,CAAoB,CACxE,MACE,qBAAC,eAAD,EACE,GAAG,CAAEA,KADP,CAEE,KAAK,CAAED,OAFT,CAGE,MAAM,CAAEC,KAHV,EADF,CAOD,CARmB,CAApB,CASD,CAVD,IAUO,CACLJ,iBAAiB,CAAGb,QAAQ,CAACc,KAAT,CAAe,CAAf,CAAkB,EAAlB,EAAsBC,GAAtB,CAA0B,SAACC,OAAD,CAAUC,KAAV,CAAoB,CAChE,MACE,qBAAC,eAAD,EACE,GAAG,CAAEA,KADP,CAEE,KAAK,CAAED,OAFT,CAGE,MAAM,CAAEC,KAHV,EADF,CAOD,CARmB,CAApB,CASD,CAED,GAAIf,aAAJ,CAAmB,CACjBW,iBAAiB,CACf,wCACE,4BAAM,KAAK,CAAE,CAAEK,KAAK,CAAE,KAAT,CAAgBC,UAAU,CAAE,MAA5B,CAAb,2DADF,CAGU,GAHV,CAIGjB,aAJH,CADF,CAQD,CAED,MACE,yCACGS,aADH,CAEE,2BAAK,SAAS,CAAElB,MAAM,CAACM,QAAvB,EACGc,iBADH,CAEE,oBAAC,iBAAD,EACE,QAAQ,CAAEb,QADZ,CAEE,gBAAgB,CAAEQ,gBAFpB,CAGE,QAAQ,CAAEH,GAAG,EAAIC,QAHnB,EAFF,CAFF,CADF,CAaD,CA5DD,CA8DA,cAAeP,CAAAA,QAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport styles from \"./Messages.module.css\";\nimport { useSelector } from \"react-redux\";\nimport LoadMoreContainer from \"../LoadMoreContainer/LoadMoreContainer\";\nimport MessageSnapshot from \"../../components/MessageSnapshot/MessageSnapshot\";\nimport MessageFilter from \"../MessageFilter/MessageFilter\";\nimport Spinner from \"../../components/UI/Spinners/FormSpinner/FormSpinner\";\n\nconst Messages = () => {\n  const messages = useSelector((state) => state.messages.messages);\n  const messagesError = useSelector((state) => state.messages.error);\n  const { who, identity } = useSelector((state) => state.messages.filters);\n  const sort = useSelector((state) => state.messages.sort);\n  const filteredMessages = useSelector(\n    (state) => state.messages.filteredMessages\n  );\n  const messagesLoading = useSelector((state) => state.messages.loading);\n\n  let messageFilter = messages.length > 0 ? <MessageFilter /> : null;\n\n  let messagesContainer = messagesLoading ? <Spinner /> : null;\n\n  if (who || identity || sort) {\n    messagesContainer = filteredMessages.slice(0, 14).map((message, index) => {\n      return (\n        <MessageSnapshot\n          key={index}\n          entry={message}\n          marker={index}\n        ></MessageSnapshot>\n      );\n    });\n  } else {\n    messagesContainer = messages.slice(0, 14).map((message, index) => {\n      return (\n        <MessageSnapshot\n          key={index}\n          entry={message}\n          marker={index}\n        ></MessageSnapshot>\n      );\n    });\n  }\n\n  if (messagesError) {\n    messagesContainer = (\n      <>\n        <span style={{ color: \"red\", fontWeight: \"bold\" }}>\n          Sorry, an error has occurred and IT has been notified:\n        </span>{\" \"}\n        {messagesError}\n      </>\n    );\n  }\n\n  return (\n    <>\n      {messageFilter}\n      <div className={styles.Messages}>\n        {messagesContainer}\n        <LoadMoreContainer\n          messages={messages}\n          filteredMessages={filteredMessages}\n          filtered={who || identity}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Messages;\n"]},"metadata":{},"sourceType":"module"}