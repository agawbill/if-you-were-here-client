{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validatePrefix = exports.inlineStyleExporter = exports.createInlineStyleExportObject = exports.getInlineStyles = exports.customStyleFns = exports.createCustomStyles = exports.mapSelectedCharacters = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _draftJs = require('draft-js');\n\nvar _immutable = require('immutable');\n\nvar _lodash = require('lodash.camelcase');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.snakecase');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DEFAULT_PREFIX = 'CUSTOM_'; // This functionality has been taken from draft-js and modified for re-usability purposes.\n// Maps over the selected characters, and applies a function to each character.\n// Characters are of type CharacterMetadata.\n\nvar mapSelectedCharacters = exports.mapSelectedCharacters = function mapSelectedCharacters(callback) {\n  return function (editorState) {\n    var contentState = editorState.getCurrentContent();\n    var selectionState = editorState.getSelection();\n    var blockMap = contentState.getBlockMap();\n    var startKey = selectionState.getStartKey();\n    var startOffset = selectionState.getStartOffset();\n    var endKey = selectionState.getEndKey();\n    var endOffset = selectionState.getEndOffset();\n    var newBlocks = blockMap.skipUntil(function (_, k) {\n      return k === startKey;\n    }).takeUntil(function (_, k) {\n      return k === endKey;\n    }).concat((0, _immutable.Map)([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {\n      var sliceStart = void 0;\n      var sliceEnd = void 0; // sliceStart -> where the selection starts\n      // endSlice -> Where the selection ends\n      // Only 1 block selected\n\n      if (startKey === endKey) {\n        sliceStart = startOffset;\n        sliceEnd = endOffset; // Gets the selected characters of the block when multiple blocks are selected.\n      } else {\n        sliceStart = blockKey === startKey ? startOffset : 0;\n        sliceEnd = blockKey === endKey ? endOffset : block.getLength();\n      } // Get the characters of the current block\n\n\n      var chars = block.getCharacterList();\n      var current = void 0;\n\n      while (sliceStart < sliceEnd) {\n        current = chars.get(sliceStart);\n        var newChar = callback(current);\n        chars = chars.set(sliceStart, newChar);\n        sliceStart++;\n      }\n\n      return block.set('characterList', chars);\n    });\n    return contentState.merge({\n      blockMap: blockMap.merge(newBlocks),\n      selectionBefore: selectionState,\n      selectionAfter: selectionState\n    });\n  };\n};\n\nvar getContentStateWithoutStyle = function getContentStateWithoutStyle(prefix, editorState) {\n  return mapSelectedCharacters(filterDynamicStyle(prefix))(editorState);\n};\n\nvar filterDynamicStyle = function filterDynamicStyle(prefix) {\n  return function (char) {\n    var charStyles = char.get('style');\n    var filteredStyles = charStyles.filter(function (style) {\n      return !style.startsWith(prefix);\n    });\n    return char.set('style', filteredStyles);\n  };\n};\n\nvar addStyle = function addStyle(prefix) {\n  return function (editorState, value) {\n    var style = prefix + value;\n\n    var newContentState = _draftJs.Modifier.applyInlineStyle(getContentStateWithoutStyle(prefix, editorState), editorState.getSelection(), style);\n\n    var isCollapsed = editorState.getSelection().isCollapsed();\n\n    if (isCollapsed) {\n      return addInlineStyleOverride(prefix, style, editorState);\n    }\n\n    return _draftJs.EditorState.push(editorState, newContentState, 'change-inline-style');\n  };\n};\n\nvar removeStyle = function removeStyle(prefix) {\n  return function (editorState) {\n    return _draftJs.EditorState.push(editorState, getContentStateWithoutStyle(prefix, editorState), 'change-inline-style');\n  };\n};\n\nvar filterOverrideStyles = function filterOverrideStyles(prefix, styles) {\n  return styles.filter(function (style) {\n    return !style.startsWith(prefix);\n  });\n};\n\nvar addInlineStyleOverride = function addInlineStyleOverride(prefix, style, editorState) {\n  var currentStyle = editorState.getCurrentInlineStyle(); // We remove styles with the prefix from the OrderedSet to avoid having\n  // variants of the same prefix.\n\n  var newStyles = filterOverrideStyles(prefix, currentStyle);\n  return _draftJs.EditorState.setInlineStyleOverride(editorState, newStyles.add(style));\n};\n\nvar toggleInlineStyleOverride = function toggleInlineStyleOverride(prefix, style, editorState) {\n  var currentStyle = editorState.getCurrentInlineStyle(); // We remove styles with the prefix from the OrderedSet to avoid having\n  // variants of the same prefix.\n\n  var newStyles = filterOverrideStyles(prefix, currentStyle);\n  var styleOverride = currentStyle.has(style) ? newStyles.remove(style) : newStyles.add(style);\n  return _draftJs.EditorState.setInlineStyleOverride(editorState, styleOverride);\n};\n\nvar toggleStyle = function toggleStyle(prefix) {\n  return function (editorState, value) {\n    var style = prefix + value;\n    var currentStyle = editorState.getCurrentInlineStyle();\n    var isCollapsed = editorState.getSelection().isCollapsed();\n\n    if (isCollapsed) {\n      return toggleInlineStyleOverride(prefix, style, editorState);\n    }\n\n    if (!currentStyle.has(style)) {\n      return addStyle(prefix)(editorState, value);\n    }\n\n    var editorStateWithoutCustomStyles = _draftJs.EditorState.push(editorState, getContentStateWithoutStyle(prefix, editorState), 'change-inline-style');\n\n    return _draftJs.EditorState.forceSelection(editorStateWithoutCustomStyles, editorState.getSelection());\n  };\n};\n/**\n *  style is an OrderedSet type\n */\n\n\nvar styleFn = function styleFn(prefix, cssProp) {\n  return function (style) {\n    if (!style.size) {\n      return {};\n    }\n\n    var value = style.filter(function (val) {\n      return val.startsWith(prefix);\n    }).first();\n\n    if (value) {\n      var newVal = value.replace(prefix, '');\n      return _defineProperty({}, (0, _lodash2.default)(cssProp), newVal);\n    }\n\n    return {};\n  };\n};\n\nvar currentStyle = function currentStyle(prefix) {\n  return function (editorState) {\n    var selectionStyles = editorState.getCurrentInlineStyle();\n\n    if (!selectionStyles.size) {\n      return '';\n    }\n\n    var result = selectionStyles.filter(function (style) {\n      return style.startsWith(prefix);\n    }).first();\n    return result ? result.replace(prefix, '') : result;\n  };\n};\n\nvar createCustomStyles = exports.createCustomStyles = function createCustomStyles(prefix, conf) {\n  return conf.reduce(function (acc, prop) {\n    var camelCased = (0, _lodash2.default)(prop);\n    var newPrefix = '' + prefix + (0, _lodash4.default)(prop).toUpperCase() + '_';\n\n    var copy = _extends({}, acc);\n\n    copy[camelCased] = {\n      add: addStyle(newPrefix),\n      remove: removeStyle(newPrefix),\n      toggle: toggleStyle(newPrefix),\n      current: currentStyle(newPrefix),\n      styleFn: styleFn(newPrefix, prop)\n    };\n    return copy;\n  }, {});\n}; // customStyleFns\n\n\nvar customStyleFns = exports.customStyleFns = function customStyleFns(fnList) {\n  return function (prefixedStyle) {\n    return fnList.reduce(function (css, fn) {\n      return _extends({}, css, fn(prefixedStyle));\n    }, {});\n  };\n}; // exporter\n\n\nvar getInlineStyles = exports.getInlineStyles = function getInlineStyles(acc, block) {\n  var styleRanges = block.inlineStyleRanges;\n\n  if (styleRanges && styleRanges.length) {\n    var result = styleRanges.map(function (style) {\n      return style.style;\n    });\n    return acc.concat(result);\n  }\n\n  return acc;\n};\n\nvar createInlineStyleExportObject = exports.createInlineStyleExportObject = function createInlineStyleExportObject(prefix, customStyleMap) {\n  return function (acc, style) {\n    // default inline styles\n    if (_draftJs.DefaultDraftInlineStyle[style]) {\n      return Object.assign({}, acc, _defineProperty({}, style, {\n        style: _draftJs.DefaultDraftInlineStyle[style]\n      }));\n    } // custom styleMap styles\n\n\n    if (customStyleMap[style]) {\n      return Object.assign({}, acc, _defineProperty({}, style, {\n        style: customStyleMap[style]\n      }));\n    }\n\n    var regex = new RegExp(prefix + '(.+)_(.+)');\n    var match = style.match(regex); // no matches\n\n    if (!match || !match[1] || !match[2]) {\n      return acc;\n    } // custom styles\n\n\n    var css = match[1].toLowerCase();\n    var value = match[2];\n\n    var inlineStyle = _defineProperty({}, style, {\n      style: _defineProperty({}, (0, _lodash2.default)(css), value)\n    });\n\n    return Object.assign({}, acc, inlineStyle);\n  };\n};\n\nvar inlineStyleExporter = exports.inlineStyleExporter = function inlineStyleExporter(prefix, customStyleMap) {\n  return function (editorState) {\n    var inlineStyles = (0, _draftJs.convertToRaw)(editorState.getCurrentContent()).blocks.reduce(getInlineStyles, []);\n    if (!inlineStyles.length) return {};\n    return inlineStyles.reduce(createInlineStyleExportObject(prefix, customStyleMap), {});\n  };\n};\n\nvar validatePrefix = exports.validatePrefix = function validatePrefix(prefix) {\n  if (typeof prefix !== 'string' || !prefix.length) {\n    return DEFAULT_PREFIX;\n  }\n\n  if (prefix.match(/.+_$/)) {\n    return prefix;\n  }\n\n  return prefix + '_';\n};\n\nexports.default = function (conf) {\n  var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_PREFIX;\n  var customStyleMap = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!conf) {\n    console.log('Expecting an array with css properties');\n    return {\n      styles: {}\n    };\n  }\n\n  if (!Array.isArray(conf) || !conf.length) {\n    console.log('createStyles expects first parameter to be an array with css properties');\n    return {\n      styles: {}\n    };\n  }\n\n  var checkedPrefix = validatePrefix(prefix);\n  var styles = createCustomStyles(checkedPrefix, conf);\n  var fnList = Object.keys(styles).map(function (style) {\n    return styles[style].styleFn;\n  });\n  var customStyleFn = customStyleFns(fnList);\n  var exporter = inlineStyleExporter(checkedPrefix, customStyleMap);\n  return {\n    styles: styles,\n    customStyleFn: customStyleFn,\n    exporter: exporter\n  };\n};","map":{"version":3,"sources":["/home/anthony/Desktop/if-you-were-here/node_modules/draft-js-custom-styles/build/index.js"],"names":["Object","defineProperty","exports","value","validatePrefix","inlineStyleExporter","createInlineStyleExportObject","getInlineStyles","customStyleFns","createCustomStyles","mapSelectedCharacters","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_draftJs","require","_immutable","_lodash","_lodash2","_interopRequireDefault","_lodash3","_lodash4","obj","__esModule","default","_defineProperty","enumerable","configurable","writable","DEFAULT_PREFIX","callback","editorState","contentState","getCurrentContent","selectionState","getSelection","blockMap","getBlockMap","startKey","getStartKey","startOffset","getStartOffset","endKey","getEndKey","endOffset","getEndOffset","newBlocks","skipUntil","_","k","takeUntil","concat","Map","get","map","block","blockKey","sliceStart","sliceEnd","getLength","chars","getCharacterList","current","newChar","set","merge","selectionBefore","selectionAfter","getContentStateWithoutStyle","prefix","filterDynamicStyle","char","charStyles","filteredStyles","filter","style","startsWith","addStyle","newContentState","Modifier","applyInlineStyle","isCollapsed","addInlineStyleOverride","EditorState","push","removeStyle","filterOverrideStyles","styles","currentStyle","getCurrentInlineStyle","newStyles","setInlineStyleOverride","add","toggleInlineStyleOverride","styleOverride","has","remove","toggleStyle","editorStateWithoutCustomStyles","forceSelection","styleFn","cssProp","size","val","first","newVal","replace","selectionStyles","result","conf","reduce","acc","prop","camelCased","newPrefix","toUpperCase","copy","toggle","fnList","prefixedStyle","css","fn","styleRanges","inlineStyleRanges","customStyleMap","DefaultDraftInlineStyle","regex","RegExp","match","toLowerCase","inlineStyle","inlineStyles","convertToRaw","blocks","console","log","Array","isArray","checkedPrefix","keys","customStyleFn","exporter"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validatePrefix = exports.inlineStyleExporter = exports.createInlineStyleExportObject = exports.getInlineStyles = exports.customStyleFns = exports.createCustomStyles = exports.mapSelectedCharacters = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _draftJs = require('draft-js');\n\nvar _immutable = require('immutable');\n\nvar _lodash = require('lodash.camelcase');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.snakecase');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DEFAULT_PREFIX = 'CUSTOM_';\n\n// This functionality has been taken from draft-js and modified for re-usability purposes.\n// Maps over the selected characters, and applies a function to each character.\n// Characters are of type CharacterMetadata.\nvar mapSelectedCharacters = exports.mapSelectedCharacters = function mapSelectedCharacters(callback) {\n  return function (editorState) {\n    var contentState = editorState.getCurrentContent();\n    var selectionState = editorState.getSelection();\n    var blockMap = contentState.getBlockMap();\n    var startKey = selectionState.getStartKey();\n    var startOffset = selectionState.getStartOffset();\n    var endKey = selectionState.getEndKey();\n    var endOffset = selectionState.getEndOffset();\n\n    var newBlocks = blockMap.skipUntil(function (_, k) {\n      return k === startKey;\n    }).takeUntil(function (_, k) {\n      return k === endKey;\n    }).concat((0, _immutable.Map)([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {\n      var sliceStart = void 0;\n      var sliceEnd = void 0;\n\n      // sliceStart -> where the selection starts\n      // endSlice -> Where the selection ends\n\n      // Only 1 block selected\n      if (startKey === endKey) {\n        sliceStart = startOffset;\n        sliceEnd = endOffset;\n        // Gets the selected characters of the block when multiple blocks are selected.\n      } else {\n        sliceStart = blockKey === startKey ? startOffset : 0;\n        sliceEnd = blockKey === endKey ? endOffset : block.getLength();\n      }\n\n      // Get the characters of the current block\n      var chars = block.getCharacterList();\n      var current = void 0;\n      while (sliceStart < sliceEnd) {\n        current = chars.get(sliceStart);\n        var newChar = callback(current);\n        chars = chars.set(sliceStart, newChar);\n        sliceStart++;\n      }\n\n      return block.set('characterList', chars);\n    });\n\n    return contentState.merge({\n      blockMap: blockMap.merge(newBlocks),\n      selectionBefore: selectionState,\n      selectionAfter: selectionState\n    });\n  };\n};\n\nvar getContentStateWithoutStyle = function getContentStateWithoutStyle(prefix, editorState) {\n  return mapSelectedCharacters(filterDynamicStyle(prefix))(editorState);\n};\n\nvar filterDynamicStyle = function filterDynamicStyle(prefix) {\n  return function (char) {\n    var charStyles = char.get('style');\n    var filteredStyles = charStyles.filter(function (style) {\n      return !style.startsWith(prefix);\n    });\n    return char.set('style', filteredStyles);\n  };\n};\n\nvar addStyle = function addStyle(prefix) {\n  return function (editorState, value) {\n    var style = prefix + value;\n    var newContentState = _draftJs.Modifier.applyInlineStyle(getContentStateWithoutStyle(prefix, editorState), editorState.getSelection(), style);\n\n    var isCollapsed = editorState.getSelection().isCollapsed();\n    if (isCollapsed) {\n      return addInlineStyleOverride(prefix, style, editorState);\n    }\n\n    return _draftJs.EditorState.push(editorState, newContentState, 'change-inline-style');\n  };\n};\n\nvar removeStyle = function removeStyle(prefix) {\n  return function (editorState) {\n    return _draftJs.EditorState.push(editorState, getContentStateWithoutStyle(prefix, editorState), 'change-inline-style');\n  };\n};\n\nvar filterOverrideStyles = function filterOverrideStyles(prefix, styles) {\n  return styles.filter(function (style) {\n    return !style.startsWith(prefix);\n  });\n};\n\nvar addInlineStyleOverride = function addInlineStyleOverride(prefix, style, editorState) {\n  var currentStyle = editorState.getCurrentInlineStyle();\n\n  // We remove styles with the prefix from the OrderedSet to avoid having\n  // variants of the same prefix.\n  var newStyles = filterOverrideStyles(prefix, currentStyle);\n\n  return _draftJs.EditorState.setInlineStyleOverride(editorState, newStyles.add(style));\n};\n\nvar toggleInlineStyleOverride = function toggleInlineStyleOverride(prefix, style, editorState) {\n  var currentStyle = editorState.getCurrentInlineStyle();\n\n  // We remove styles with the prefix from the OrderedSet to avoid having\n  // variants of the same prefix.\n  var newStyles = filterOverrideStyles(prefix, currentStyle);\n\n  var styleOverride = currentStyle.has(style) ? newStyles.remove(style) : newStyles.add(style);\n\n  return _draftJs.EditorState.setInlineStyleOverride(editorState, styleOverride);\n};\n\nvar toggleStyle = function toggleStyle(prefix) {\n  return function (editorState, value) {\n    var style = prefix + value;\n    var currentStyle = editorState.getCurrentInlineStyle();\n    var isCollapsed = editorState.getSelection().isCollapsed();\n\n    if (isCollapsed) {\n      return toggleInlineStyleOverride(prefix, style, editorState);\n    }\n\n    if (!currentStyle.has(style)) {\n      return addStyle(prefix)(editorState, value);\n    }\n\n    var editorStateWithoutCustomStyles = _draftJs.EditorState.push(editorState, getContentStateWithoutStyle(prefix, editorState), 'change-inline-style');\n    return _draftJs.EditorState.forceSelection(editorStateWithoutCustomStyles, editorState.getSelection());\n  };\n};\n\n/**\n *  style is an OrderedSet type\n */\nvar styleFn = function styleFn(prefix, cssProp) {\n  return function (style) {\n    if (!style.size) {\n      return {};\n    }\n    var value = style.filter(function (val) {\n      return val.startsWith(prefix);\n    }).first();\n    if (value) {\n      var newVal = value.replace(prefix, '');\n      return _defineProperty({}, (0, _lodash2.default)(cssProp), newVal);\n    }\n    return {};\n  };\n};\n\nvar currentStyle = function currentStyle(prefix) {\n  return function (editorState) {\n    var selectionStyles = editorState.getCurrentInlineStyle();\n    if (!selectionStyles.size) {\n      return '';\n    }\n\n    var result = selectionStyles.filter(function (style) {\n      return style.startsWith(prefix);\n    }).first();\n\n    return result ? result.replace(prefix, '') : result;\n  };\n};\n\nvar createCustomStyles = exports.createCustomStyles = function createCustomStyles(prefix, conf) {\n  return conf.reduce(function (acc, prop) {\n    var camelCased = (0, _lodash2.default)(prop);\n    var newPrefix = '' + prefix + (0, _lodash4.default)(prop).toUpperCase() + '_';\n    var copy = _extends({}, acc);\n    copy[camelCased] = {\n      add: addStyle(newPrefix),\n      remove: removeStyle(newPrefix),\n      toggle: toggleStyle(newPrefix),\n      current: currentStyle(newPrefix),\n      styleFn: styleFn(newPrefix, prop)\n    };\n\n    return copy;\n  }, {});\n};\n\n// customStyleFns\nvar customStyleFns = exports.customStyleFns = function customStyleFns(fnList) {\n  return function (prefixedStyle) {\n    return fnList.reduce(function (css, fn) {\n      return _extends({}, css, fn(prefixedStyle));\n    }, {});\n  };\n};\n\n// exporter\nvar getInlineStyles = exports.getInlineStyles = function getInlineStyles(acc, block) {\n  var styleRanges = block.inlineStyleRanges;\n  if (styleRanges && styleRanges.length) {\n    var result = styleRanges.map(function (style) {\n      return style.style;\n    });\n\n    return acc.concat(result);\n  }\n  return acc;\n};\n\nvar createInlineStyleExportObject = exports.createInlineStyleExportObject = function createInlineStyleExportObject(prefix, customStyleMap) {\n  return function (acc, style) {\n    // default inline styles\n    if (_draftJs.DefaultDraftInlineStyle[style]) {\n      return Object.assign({}, acc, _defineProperty({}, style, {\n        style: _draftJs.DefaultDraftInlineStyle[style]\n      }));\n    }\n\n    // custom styleMap styles\n    if (customStyleMap[style]) {\n      return Object.assign({}, acc, _defineProperty({}, style, {\n        style: customStyleMap[style]\n      }));\n    }\n\n    var regex = new RegExp(prefix + '(.+)_(.+)');\n    var match = style.match(regex);\n\n    // no matches\n    if (!match || !match[1] || !match[2]) {\n      return acc;\n    }\n\n    // custom styles\n    var css = match[1].toLowerCase();\n    var value = match[2];\n    var inlineStyle = _defineProperty({}, style, {\n      style: _defineProperty({}, (0, _lodash2.default)(css), value)\n    });\n\n    return Object.assign({}, acc, inlineStyle);\n  };\n};\n\nvar inlineStyleExporter = exports.inlineStyleExporter = function inlineStyleExporter(prefix, customStyleMap) {\n  return function (editorState) {\n    var inlineStyles = (0, _draftJs.convertToRaw)(editorState.getCurrentContent()).blocks.reduce(getInlineStyles, []);\n    if (!inlineStyles.length) return {};\n    return inlineStyles.reduce(createInlineStyleExportObject(prefix, customStyleMap), {});\n  };\n};\n\nvar validatePrefix = exports.validatePrefix = function validatePrefix(prefix) {\n  if (typeof prefix !== 'string' || !prefix.length) {\n    return DEFAULT_PREFIX;\n  }\n\n  if (prefix.match(/.+_$/)) {\n    return prefix;\n  }\n\n  return prefix + '_';\n};\n\nexports.default = function (conf) {\n  var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_PREFIX;\n  var customStyleMap = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!conf) {\n    console.log('Expecting an array with css properties');\n    return { styles: {} };\n  }\n\n  if (!Array.isArray(conf) || !conf.length) {\n    console.log('createStyles expects first parameter to be an array with css properties');\n    return { styles: {} };\n  }\n\n  var checkedPrefix = validatePrefix(prefix);\n  var styles = createCustomStyles(checkedPrefix, conf);\n  var fnList = Object.keys(styles).map(function (style) {\n    return styles[style].styleFn;\n  });\n  var customStyleFn = customStyleFns(fnList);\n  var exporter = inlineStyleExporter(checkedPrefix, customStyleMap);\n\n  return {\n    styles: styles,\n    customStyleFn: customStyleFn,\n    exporter: exporter\n  };\n};"]},"metadata":{},"sourceType":"script"}