!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("Immutable"),require("Draft"),require("ReactDOMServer")):"function"==typeof define&&define.amd?define(["React","Immutable","Draft","ReactDOMServer"],t):"object"==typeof exports?exports.DraftConvert=t(require("React"),require("Immutable"),require("Draft"),require("ReactDOMServer")):e.DraftConvert=t(e.React,e.Immutable,e.Draft,e.ReactDOMServer)}(window,function(e,t,n,r){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,l,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,l,a],s=0;(c=new Error(t.replace(/%s/g,function(){return u[s++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){var r=n(7),o=n(8),i=n(9);e.exports=function(e){return r(e)||o(e)||i()}},function(e,t){e.exports=r},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),i=n(0),l=n.n(i),a=n(5),c=n.n(a),u=n(2),s=n(4),f=n.n(s);function d(e,t,n,r,o,i){var l=r-n;return t+n<=e.offset?Object.assign({},e,{offset:e.offset+l}):t>=e.offset&&t+n<=e.offset+e.length?Object.assign({},e,{length:e.length+l}):e.offset>=t&&e.offset+e.length<=t+n&&o>0?Object.assign({},e,{offset:e.offset+o}):e.offset<t&&e.offset+e.length<=t+n&&e.offset+e.length>t&&o>0?[Object.assign({},e,{length:t-e.offset}),Object.assign({},e,{offset:t+o,length:e.offset-t+e.length})]:e.offset>=t&&e.offset+e.length>t+n&&t+n>e.offset&&i>0?[Object.assign({},e,{offset:e.offset+o,length:t+n-e.offset}),Object.assign({},e,{offset:t+n+o+i,length:e.offset+e.length-(t+n)})]:e}var p=function(e,t){return e.offset===t.offset?t.length-e.length:e.offset-t.offset},y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","\n":"<br/>"},h=n(6),g=n.n(h),v=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function m(e){if(-1!==v.indexOf(e.type))return c.a.renderToStaticMarkup(e);var t=c.a.renderToStaticMarkup(l.a.cloneElement(e,{},"\r")).split("\r");return o()(t.length>1,"convertToHTML: Element of type ".concat(e.type," must render children")),o()(t.length<3,"convertToHTML: Element of type ".concat(e.type," cannot use carriage return character")),{start:t[0],end:t[1]}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==e)return e;if("string"==typeof e)return e;if(l.a.isValidElement(e)){if(function(e){return l.a.isValidElement(e)&&l.a.Children.count(e.props.children)>0}(e))return c.a.renderToStaticMarkup(e);var n=m(e);return null!==t&&"object"===g()(n)?n.start+t+n.end:n}return o()(Object.prototype.hasOwnProperty.call(e,"start")&&Object.prototype.hasOwnProperty.call(e,"end"),"convertToHTML: received conversion data without either an HTML string, ReactElement or an object with start/end tags"),null!==t?e.start+t+e.end:e}var x=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start";if(l.a.isValidElement(t)){var r=m(t);if("string"==typeof r)return 0;var o=r[n].length,i=l.a.Children.toArray(t.props.children)[0];return o+(i&&l.a.isValidElement(i)?e(i,n):0)}return"object"===g()(t)&&t[n]?t[n].length:0},O=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;return e},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O,r=f()(e.text),o=n;if(n.__isMiddleware&&(o=n(O)),Object.prototype.hasOwnProperty.call(e,"entityRanges")&&e.entityRanges.length>0){for(var i=e.entityRanges.sort(p),l=e.inlineStyleRanges,a=function(e){var n=i[e],a=t[n.key],c=r.slice(n.offset,n.offset+n.length).join(""),u=o(a,c),s=f()(b(u,c)||c),p=x(u,"start"),y=x(u,"end"),h=function(t){return t.reduce(function(t,r,o){var i=function(t,r){return r>e||Object.prototype.hasOwnProperty.call(t,"style")?d(t,n.offset,n.length,s.length,p,y):t}(r,o);return Array.isArray(i)?t.concat(i):t.concat([i])},[])};i=h(i),l=h(l),r=[].concat(f()(r.slice(0,n.offset)),f()(s),f()(r.slice(n.offset+n.length)))},c=0;c<i.length;c++)a(c);return Object.assign({},e,{text:r.join(""),inlineStyleRanges:l,entityRanges:i})}return e},w=function(e){return function(t){return"function"==typeof e?e(t):e[t]}},j=function(e,t){return function(){var n=e.apply(void 0,arguments);return null!=n?n:t.apply(void 0,arguments)}};function M(e){switch(e){case"BOLD":return l.a.createElement("strong",null);case"ITALIC":return l.a.createElement("em",null);case"UNDERLINE":return l.a.createElement("u",null);case"CODE":return l.a.createElement("code",null);default:return{start:"",end:""}}}var S=function(e,t){return e.filter(function(e){return!t.some(function(t){return t.style===e.style})})},T=function(e,t){return t.reduceRight(function(e,t){var n=e[e.length-1];return o()(n.style===t.style,"Style ".concat(n.style," to be removed doesn't match expected ").concat(t.style)),e.slice(0,-1)},e)},k=function(e,t){return t.filter(function(t){return e>=t.offset&&e<t.offset+t.length})},R=function(e,t){var n=e.offset<=t.offset,r=e.offset+e.length>=t.offset+t.length;return n&&r},L=function(e,t){return t.offset+t.length-(e.offset+e.length)},D=function(e,t){for(var n=0;n<e.length;){if(!t.every(R.bind(null,e[n])))return e.slice(n);n++}return[]},H=function(e,t,n){return t+b(e(n.style)).start},A=function(e,t,n){return b(e(n.style)).end+t},C=function(e){return function(t){return e(t)}};C.__isMiddleware=!0;var I=function(e){return function(t){return"function"==typeof e?e(t):e[t.type]}};function P(e){return o()(null!=e,"Expected block HTML value to be non-null"),"string"==typeof e?e:l.a.isValidElement(e)?(t=e,l.a.isValidElement(t)&&l.a.Children.count(t.props.children)>0?c.a.renderToStaticMarkup(e):m(e)):Object.prototype.hasOwnProperty.call(e,"element")&&l.a.isValidElement(e.element)?Object.assign({},e,m(e.element)):(o()(Object.prototype.hasOwnProperty.call(e,"start")&&Object.prototype.hasOwnProperty.call(e,"end"),"convertToHTML: received block information without either a ReactElement or an object with start/end tags"),e);var t}function _(e){if(o()(null!=e,"Expected block HTML value to be non-null"),l.a.isValidElement(e.nest)){var t=m(e.nest),n=t.start,r=t.end;return Object.assign({},e,{nestStart:n,nestEnd:r})}return o()(Object.prototype.hasOwnProperty.call(e,"nestStart")&&Object.prototype.hasOwnProperty.call(e,"nestEnd"),"convertToHTML: received block information without either a ReactElement or an object with start/end tags"),e}var N={unstyled:l.a.createElement("p",null),paragraph:l.a.createElement("p",null),"header-one":l.a.createElement("h1",null),"header-two":l.a.createElement("h2",null),"header-three":l.a.createElement("h3",null),"header-four":l.a.createElement("h4",null),"header-five":l.a.createElement("h5",null),"header-six":l.a.createElement("h6",null),blockquote:l.a.createElement("blockquote",null),"unordered-list-item":{element:l.a.createElement("li",null),nest:l.a.createElement("ul",null)},"ordered-list-item":{element:l.a.createElement("li",null),nest:l.a.createElement("ol",null)},media:l.a.createElement("figure",null),atomic:l.a.createElement("figure",null)},q=function(e,t){return t},B=function(e){var t=e.styleToHTML,n=void 0===t?{}:t,r=e.blockToHTML,i=void 0===r?{}:r,a=e.entityToHTML,s=void 0===a?q:a;return function(e){var t;o()(null!=e,"Expected contentState to be non-null"),t=!0===i.__isMiddleware?i(I(N)):j(I(i),I(N));var r=Object(u.convertToRaw)(e),a=[],h=r.blocks.map(function(e){var i=e.type,u=e.depth,h="",g="",v=t(e);if(!v)throw new Error("convertToHTML: missing HTML definition for block with type ".concat(e.type));if(v.nest)for(;u+1!==a.length||i!==a[u].type;)if(u+1===a.length){var m=a[u];h+=_(t(m)).nestEnd,g+=_(t(e)).nestStart,a[u]=e}else if(u+1<a.length){var x=a[a.length-1];h+=_(t(x)).nestEnd,a=a.slice(0,-1)}else g+=_(t(e)).nestStart,a.push(e);else h=a.reduceRight(function(e,n){return e+_(t(n)).nestEnd},""),a=[];var O,R=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;o()(null!=e,"Expected raw block to be non-null"),t=!0===n.__isMiddleware?n(M):j(w(n),w(M));for(var r="",i=[],l=e.inlineStyleRanges.sort(p),a=f()(e.text),c=0;c<a.length;c++){var u=k(c,l),s=S(i,u),d=S(u,i),y=S(i,s),h=D(y,d),g=h.concat(d).sort(L),v=g.reduce(H.bind(null,t),""),m=s.concat(h).reduce(A.bind(null,t),"");r+=m+v+a[c],i=(i=T(i,h.concat(s))).concat(g),o()(i.length===u.length,"Character ".concat(c,": ").concat(i.length-u.length," styles left on stack that should no longer be there"))}return r=i.reduceRight(function(e,n){return e+b(t(n.style)).end},r)}(E(function(e){for(var t=f()(e.text),n=e.entityRanges.sort(p),r=e.inlineStyleRanges.sort(p),o="",i=function(e){var i=t[e];if(void 0!==y[i]){var l=y[i],a=f()(o).length;o+=l;var c=function(e){return d(e,a,i.length,l.length,0,0)};n=n.map(c),r=r.map(c)}else o+=i},l=0;l<t.length;l++)i(l);return Object.assign({},e,{text:o,inlineStyleRanges:r,entityRanges:n})}(e),r.entityMap,s),n),I=P(t(e));return O="string"==typeof I?I:I.start+R+I.end,0===R.length&&Object.prototype.hasOwnProperty.call(I,"empty")&&(O=l.a.isValidElement(I.empty)?c.a.renderToStaticMarkup(I.empty):I.empty),h+g+O}).join("");return h=a.reduce(function(e,n){return e+_(t(n)).nestEnd},h)}},V=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Object.prototype.hasOwnProperty.call(t[0],"_map")&&null!=t[0].getBlockMap?B({}).apply(void 0,t):B.apply(void 0,t)},K=n(1),U=function(e){var t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e,t};function G(e){var t;"undefined"!=typeof DOMParser?null!==(t=(new DOMParser).parseFromString(e,"text/html"))&&null!==t.body||(t=U(e)):t=U(e);return t.body}var F=" ",W=4,z=new RegExp("\r","g"),J=new RegExp("\n","g"),Q=new RegExp("&nbsp;","g"),X=new RegExp("\r","g"),Y=["p","h1","h2","h3","h4","h5","h6","li","blockquote","pre"],Z={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},$=function(e,t){return e&&!0===e.__isMiddleware?e(t):e},ee=function(e,t,n){},te=function(e,t,n){return n},ne=function(e,t){},re=function(e){return[]},oe=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")},ie=function(e){return e.replace(X,"")};function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(K.Map)();return!0===n?{text:"\r",inlines:[Object(K.OrderedSet)()],entities:new Array(1),blocks:[{type:e,data:r,depth:Math.max(0,Math.min(W,t))}],isNewline:!0}:{text:"\n",inlines:[Object(K.OrderedSet)()],entities:new Array(1),blocks:[]}}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(K.Map)();return{text:"\r",inlines:[Object(K.OrderedSet)()],entities:new Array(1),blocks:[{type:e,data:n,depth:Math.max(0,Math.min(W,t))}]}}function ce(e,t){switch(e){case"h1":return"header-one";case"h2":return"header-two";case"h3":return"header-three";case"h4":return"header-four";case"h5":return"header-five";case"h6":return"header-six";case"li":return"ol"===t?"ordered-list-item":"unordered-list-item";case"blockquote":return"blockquote";case"pre":return"code-block";case"div":case"p":return"unstyled";default:return null}}function ue(e,t,n){return ce(e,n)}function se(e,t,n){var r=Z[e];if(r)n=n.add(r).toOrderedSet();else if(t instanceof HTMLElement){var o=t;n=n.withMutations(function(e){"bold"===o.style.fontWeight&&e.add("BOLD"),"italic"===o.style.fontStyle&&e.add("ITALIC"),"underline"===o.style.textDecoration&&e.add("UNDERLINE"),"line-through"===o.style.textDecoration&&e.add("STRIKETHROUGH")}).toOrderedSet()}return n}function fe(e,t){return se(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(K.OrderedSet)())}function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.text.slice(0,1),o="\r"===e.text.slice(-1)&&"\r"===r,i="\r"!==e.text&&"\r"!==t.text,l="\r"===e.text&&!e.isNewline&&t.isNewline;if(o&&(i||l)&&(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===e.text.slice(-1)&&!0===n){if(t.text===F||"\n"===t.text)return e;r!==F&&"\n"!==r||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}var a=0===e.text.length&&t.isNewline;return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks),isNewline:a}}function pe(e,t,n,r,o,i,l,a,c,u,s,f,d,y,h,g){var v=e.nodeName.toLowerCase(),m=!1,b="unstyled";if("#text"===v){var x=e.textContent;if(""===x.trim()&&null===r)return{text:"",inlines:[],entities:[],blocks:[]};if(""===x.trim()&&"code-block"!==r)return function(e){var t=new Array(1);return e&&(t[0]=e),{text:F,inlines:[Object(K.OrderedSet)()],entities:t,blocks:[]}}(g);"code-block"!==r&&(x=x.replace(J,F));var O=Array(x.length).fill(g),E=0;return c(x,s,f,d,y).sort(p).forEach(function(e){var t=e.entity,n=e.offset,r=e.length,o=e.result,i=n+E;null==o&&(o=x.substr(i,r));var l=x.split("");l.splice.bind(l,i,r).apply(l,o.split("")),x=l.join(""),O.splice.bind(O,i,r).apply(O,Array(o.length).fill(t)),E+=o.length-r}),{text:x,inlines:Array(x.length).fill(t),entities:O,blocks:[]}}if("br"===v){var w=r;return null===w?le("unstyled",i,!0):le(w||"unstyled",i,h.flat)}var j={text:"",inlines:[],entities:[],blocks:[]};t=l(v,e,t=se(v,e,t)),"ul"!==v&&"ol"!==v||(n&&(i+=1),n=v,r=null);var M,S,T=u(v,e,n,r);if(!1===T)return{text:"",inlines:[],entities:[],blocks:[]};if("string"==typeof(T=T||{})?(M=T,S=Object(K.Map)()):(M="string"==typeof T?T:T.type,S=T.data?Object(K.Map)(T.data):Object(K.Map)()),r||-1===o.indexOf(v)&&!M)if(!n||"ordered-list-item"!==r&&"unordered-list-item"!==r||"li"!==v)r&&"atomic"!==r&&"atomic"===M&&(r=M,m=!0,j=le(M,i,!0,S));else{var k=ce(v,n);j=ae(k,i),r=k,m=!0,b="ul"===n?"unordered-list-item":"ordered-list-item"}else j=ae(M||ce(v,n),i,S),r=M||ce(v,n),m=!0;var R=e.firstChild;null!=R||!g||"atomic"!==M&&"atomic"!==r||(R=document.createTextNode("a")),null!=R&&(v=R.nodeName.toLowerCase());for(var L=null;R;){L=a(v,R,s,f,d,y),j=de(j,pe(R,t,n,r,o,i,l,a,c,u,s,f,d,y,h,L||g),h.flat);var D=R.nextSibling;if(D&&o.indexOf(v)>=0&&r){var H=u(v,R,n,r),A=void 0,C=void 0;!1!==H&&("string"==typeof(H=H||{})?(A=H,C=Object(K.Map)()):(A=H.type||ce(v,n),C=H.data?Object(K.Map)(H.data):Object(K.Map)()),j=de(j,le(A,i,h.flat,C),h.flat))}D&&(v=D.nodeName.toLowerCase()),R=D}return m&&(j=de(j,ae(b,i,Object(K.Map)()),h.flat)),j}function ye(e,t,n,r,o,i,l,a,c,u,s){var f=s(e=e.trim().replace(z,"").replace(Q,F));if(!f)return null;var d=function(e){return Y.some(function(t){return-1!==e.indexOf("<".concat(t))})}(e)?Y.concat(["div"]):["div"],p=pe(f,Object(K.OrderedSet)(),"ul",null,d,-1,t,n,r,o,i,l,a,c,u);return 0===p.text.indexOf("\r")&&(p={text:p.text.slice(1),inlines:p.inlines.slice(1),entities:p.entities.slice(1),blocks:p.blocks}),"\r"===p.text.slice(-1)&&(p.text=p.text.slice(0,-1),p.inlines=p.inlines.slice(0,-1),p.entities=p.entities.slice(0,-1),p.blocks.pop()),0===p.blocks.length&&p.blocks.push({type:"unstyled",data:Object(K.Map)(),depth:0}),p.text.split("\r").length===p.blocks.length+1&&p.blocks.unshift({type:"unstyled",data:Object(K.Map)(),depth:0}),p}function he(e,t,n,r,o,i,l,a,c,s,f,d){var p=ye(e,t,n,r,o,i,l,a,c,s,f);if(null==p)return[];var y=0;return p.text.split("\r").map(function(e,t){e=ie(e);var n=y+e.length,r=oe(p).inlines.slice(y,n),o=oe(p).entities.slice(y,n),i=Object(K.List)(r.map(function(e,t){var n={style:e,entity:null};return o[t]&&(n.entity=o[t]),u.CharacterMetadata.create(n)}));return y=n+1,new u.ContentBlock({key:d(),type:oe(p).blocks[t].type,data:oe(p).blocks[t].data,depth:oe(p).blocks[t].depth,text:e,characterList:i})})}var ge=function(e){var t=e.htmlToStyle,n=void 0===t?te:t,r=e.htmlToEntity,o=void 0===r?ne:r,i=e.textToEntity,l=void 0===i?re:i,a=e.htmlToBlock,c=void 0===a?ee:a;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{flat:!1},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.genKey,a=u.ContentState.createFromText(""),s=function(){var e;return a.createEntity?(a=(e=a).createEntity.apply(e,arguments)).getLastCreatedEntityKey():u.Entity.create.apply(u.Entity,arguments)},f=function(){var e;return a.getEntity?(e=a).getEntity.apply(e,arguments):u.Entity.get.apply(u.Entity,arguments)},d=function(){var e;a.mergeEntityData?a=(e=a).mergeEntityData.apply(e,arguments):u.Entity.mergeData.apply(u.Entity,arguments)},p=function(){var e;a.replaceEntityData?a=(e=a).replaceEntityData.apply(e,arguments):u.Entity.replaceData.apply(u.Entity,arguments)},y=he(e,$(n,fe),$(o,ne),$(l,re),$(c,ue),s,f,d,p,t,r,i),h=u.BlockMapBuilder.createFromArray(y),g=y[0].getKey();return a.merge({blockMap:h,selectionBefore:u.SelectionState.createEmpty(g),selectionAfter:u.SelectionState.createEmpty(g)})}},ve=function(){return arguments.length>=1&&"string"==typeof(arguments.length<=0?void 0:arguments[0])?ge({}).apply(void 0,arguments):ge.apply(void 0,arguments)};n.d(t,"convertToHTML",function(){return V}),n.d(t,"convertFromHTML",function(){return ve}),n.d(t,"parseHTML",function(){return G})}])});